{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase';\nimport Swiper from 'react-native-swiper';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Table, Row } from 'react-native-table-component';\nimport Modal from \"react-native-modal\";\nimport DatePicker from 'react-native-modern-datepicker';\nimport { useBabyContext } from \"../context/BabyContext\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar nowDateYear = new Date().getFullYear();\nvar nowDateMonth = new Date().getMonth() + 1;\nvar nowDateDay = new Date().getDate();\nvar initialIndex;\n\nif (nowDateDay <= 10) {\n  initialIndex = 0;\n} else if (nowDateDay <= 20) {\n  initialIndex = 1;\n} else {\n  initialIndex = 2;\n}\n\nexport default function RecordScreen() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isModalVisible = _useState2[0],\n      setModalVisible = _useState2[1];\n\n  var toggleModal = function toggleModal() {\n    setModalVisible(!isModalVisible);\n  };\n\n  var _useState3 = useState(initialIndex),\n      _useState4 = _slicedToArray(_useState3, 2),\n      index = _useState4[0],\n      setIndex = _useState4[1];\n\n  var _useState5 = useState(nowDateYear + \"/\" + nowDateMonth.toString().padStart(2, \"0\") + \"/01\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      date = _useState6[0],\n      setDate = _useState6[1];\n\n  var selectYear = date.slice(0, 4);\n  var selectMonth = date.slice(5, 7).replace(/^0+/, \"\");\n\n  var groupBy = function groupBy(xs, key) {\n    return xs.reduce(function (rv, x) {\n      (rv[x[key]] = rv[x[key]] || []).push(x);\n      return rv;\n    }, {});\n  };\n\n  var _useBabyContext = useBabyContext(),\n      currentBaby = _useBabyContext.currentBaby;\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      baby = _useState8[0],\n      setBaby = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      monthData = _useState10[0],\n      setMonthData = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      babyNameData = _useState12[0],\n      setBabyNameData = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      babyIdData = _useState14[0],\n      setBabyIdData = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      babyBirthdayData = _useState16[0],\n      setBabyBirthdayData = _useState16[1];\n\n  useEffect(function () {\n    var currentBabyData = [];\n\n    if (currentBaby !== \"\") {\n      currentBaby.forEach(function (doc) {\n        var data = doc.data();\n        setBabyNameData(data.babyName);\n        setBabyIdData(data.babyId);\n        setBabyBirthdayData(data.birthday);\n      });\n    }\n  }, [currentBaby]);\n  var unsubscribedCurrentBaby;\n  useEffect(function () {\n    var db = firebase.firestore();\n    var unsubscribedBaby = firebase.auth().onAuthStateChanged(function (user) {\n      if (user && babyIdData) {\n        var babyRef = db.collection(\"users/\" + user.uid + \"/babyData\").doc(babyIdData).collection(selectYear + \"_\" + selectMonth).orderBy('updatedAt', 'asc');\n        unsubscribedBaby = babyRef.onSnapshot(function (babySnapshot) {\n          setBaby(babySnapshot);\n          var userMemos = [];\n          babySnapshot.forEach(function (doc) {\n            var data = doc.data();\n            userMemos.push({\n              id: doc.id,\n              timeLeft: data.timeLeft,\n              timeRight: data.timeRight,\n              milk: data.milk,\n              category: data.category,\n              bonyu: data.bonyu,\n              toilet: data.toilet,\n              disease: data.disease,\n              bodyTemperature: data.bodyTemperature,\n              food: data.food,\n              freeText: data.freeText,\n              bodyText: data.bodyText,\n              selectBaby: data.selectBaby,\n              day: data.day,\n              updatedAt: data.updatedAt.toDate()\n            });\n          });\n          setMonthData(userMemos);\n        }, function (babyError) {\n          console.log(babyError);\n          Alert.alert('babyデータの読み込みに失敗しました。');\n        });\n      }\n    });\n    return function () {\n      unsubscribedBaby();\n\n      if (unsubscribedCurrentBaby) {\n        unsubscribedCurrentBaby();\n      }\n    };\n  }, [babyIdData, date]);\n  var tableHead = ['授乳', '哺乳瓶', 'ご飯', 'トイレ', '病気', '体温'];\n  var sybTableHead = ['左', '右', 'ミルク', '母乳', '炭水化物', 'タンパク質', 'ミネラル', '調味料', '飲み物', 'おしっこ', 'うんち', '鼻水', '咳', '嘔吐', '発疹', '怪我', '薬', '最高', '最低'];\n  var widthArr = [100, 100, 250, 100, 300, 100];\n  var lastDay = new Date(selectYear, selectMonth, 0);\n  var tableData = [];\n\n  var _loop = function _loop(i) {\n    var junyLeftTotal = 0;\n    var junyRightTotal = 0;\n    var milkTotal = 0;\n    var bonyuTotal = 0;\n    var bonyuCount = 0;\n    var oshikkoCount = 0;\n    var unchiCount = 0;\n    var maxBodyTemperature = 0;\n    var minBodyTemperature = 0;\n    var foodCount = 0;\n    var tansuikabutsuCount = 0;\n    var tampakushitsuCount = 0;\n    var bitaminCount = 0;\n    var chomiryoCount = 0;\n    var drinkTotal = 0;\n    var hanamizuCount = 0;\n    var sekiCount = 0;\n    var otoCount = 0;\n    var hosshinCount = 0;\n    var kegaCount = 0;\n    var kusuriCount = 0;\n    var x = monthData.filter(function (data) {\n      return data.day == [i];\n    });\n    var groupByCategory = groupBy(x, 'category');\n    var junyu = groupByCategory.JUNYU;\n    var milk = groupByCategory.MILK;\n    var bonyu = groupByCategory.BONYU;\n    var toilet = groupByCategory.TOILET;\n    var disease = groupByCategory.DISEASE;\n    var food = groupByCategory.FOOD;\n\n    for (var key in junyu) {\n      junyLeftTotal += junyu[key].timeLeft;\n      junyRightTotal += junyu[key].timeRight;\n    }\n\n    if (junyLeftTotal == 0) {\n      junyLeftTotal = '-';\n    } else {\n      junyLeftTotal = junyLeftTotal + '分';\n    }\n\n    if (junyRightTotal == 0) {\n      junyRightTotal = '-';\n    } else {\n      junyRightTotal = junyRightTotal + '分';\n    }\n\n    for (var _key2 in milk) {\n      milkTotal += milk[_key2].milk;\n    }\n\n    if (milkTotal == 0) {\n      milkTotal = '-';\n    } else {\n      milkTotal = milkTotal + '\\nml';\n    }\n\n    for (var _key4 in bonyu) {\n      bonyuTotal += bonyu[_key4].bonyu;\n      bonyuCount += 1;\n    }\n\n    if (bonyuTotal == 0) {\n      bonyuTotal = '-';\n    } else {\n      bonyuTotal = bonyuTotal + '\\nml';\n    }\n\n    for (var _key6 in toilet) {\n      if (toilet[_key6].toilet.oshikko) {\n        oshikkoCount += 1;\n      }\n\n      if (toilet[_key6].toilet.unchi) {\n        unchiCount += 1;\n      }\n    }\n\n    if (oshikkoCount == 0) {\n      oshikkoCount = '-';\n    } else {\n      oshikkoCount = oshikkoCount + '回';\n    }\n\n    if (unchiCount == 0) {\n      unchiCount = '-';\n    } else {\n      unchiCount = unchiCount + '回';\n    }\n\n    for (var _key8 in food) {\n      if (food[_key8].food.tansuikabutsu) {\n        tansuikabutsuCount += 1;\n      }\n\n      if (food[_key8].food.tampakushitsu) {\n        tampakushitsuCount += 1;\n      }\n\n      if (food[_key8].food.bitamin) {\n        bitaminCount += 1;\n      }\n\n      if (food[_key8].food.chomiryo) {\n        chomiryoCount += 1;\n      }\n\n      if (!isNaN(food[_key8].food.drink)) {\n        drinkTotal += food[_key8].food.drink;\n      }\n\n      foodCount += 1;\n    }\n\n    for (var _key10 in disease) {\n      if (disease[_key10].disease.hanamizu) {\n        hanamizuCount += 1;\n      }\n\n      if (disease[_key10].disease.seki) {\n        sekiCount += 1;\n      }\n\n      if (disease[_key10].disease.oto) {\n        otoCount += 1;\n      }\n\n      if (disease[_key10].disease.hosshin) {\n        hosshinCount += 1;\n      }\n\n      if (disease[_key10].disease.kega) {\n        kegaCount += 1;\n      }\n\n      if (disease[_key10].disease.kusuri) {\n        kusuriCount += 1;\n      }\n    }\n\n    if (hanamizuCount == 0) {\n      hanamizuCount = '-';\n    } else {\n      hanamizuCount = hanamizuCount + '回';\n    }\n\n    if (sekiCount == 0) {\n      sekiCount = '-';\n    } else {\n      sekiCount = sekiCount + '回';\n    }\n\n    if (otoCount == 0) {\n      otoCount = '-';\n    } else {\n      otoCount = otoCount + '回';\n    }\n\n    if (hosshinCount == 0) {\n      hosshinCount = '-';\n    } else {\n      hosshinCount = hosshinCount + '回';\n    }\n\n    if (kegaCount == 0) {\n      kegaCount = '-';\n    } else {\n      kegaCount = kegaCount + '回';\n    }\n\n    if (kusuriCount == 0) {\n      kusuriCount = '-';\n    } else {\n      kusuriCount = kusuriCount + '回';\n    }\n\n    for (var _key12 in disease) {\n      if (!isNaN(disease[_key12].disease.bodyTemperature)) {\n        maxBodyTemperature = disease[_key12].disease.bodyTemperature;\n        minBodyTemperature = disease[_key12].disease.bodyTemperature;\n      }\n    }\n\n    if (maxBodyTemperature == 0) {\n      maxBodyTemperature = '-';\n    } else {\n      maxBodyTemperature = maxBodyTemperature + '°';\n    }\n\n    if (minBodyTemperature == 0) {\n      minBodyTemperature = '-';\n    } else {\n      minBodyTemperature = minBodyTemperature + '°';\n    }\n\n    var rowData = [];\n    rowData.push(\"\" + junyLeftTotal);\n    rowData.push(\"\" + junyRightTotal);\n    rowData.push(\"\" + milkTotal);\n    rowData.push(\"\" + bonyuTotal);\n    rowData.push(\"\" + tansuikabutsuCount);\n    rowData.push(\"\" + tampakushitsuCount);\n    rowData.push(\"\" + bitaminCount);\n    rowData.push(\"\" + chomiryoCount);\n    rowData.push(\"\" + drinkTotal);\n    rowData.push(\"\" + oshikkoCount);\n    rowData.push(\"\" + unchiCount);\n    rowData.push(\"\" + hanamizuCount);\n    rowData.push(\"\" + sekiCount);\n    rowData.push(\"\" + otoCount);\n    rowData.push(\"\" + hosshinCount);\n    rowData.push(\"\" + kegaCount);\n    rowData.push(\"\" + kusuriCount);\n    rowData.push(\"\" + maxBodyTemperature);\n    rowData.push(\"\" + minBodyTemperature);\n    tableData.push(rowData);\n  };\n\n  for (var i = 1; i < lastDay.getDate() + 1; i += 1) {\n    _loop(i);\n  }\n\n  var tableDateData = [];\n  tableDateData.push(['']);\n  tableDateData.push([selectMonth + '月']);\n\n  for (var _i2 = 1; _i2 < lastDay.getDate() + 1; _i2 += 1) {\n    var rowData = [];\n    rowData.push(_i2 + \"\\u65E5\");\n    tableDateData.push(rowData);\n  }\n\n  tableDateData.splice(12, 0, ['']);\n  tableDateData.splice(13, 0, [selectMonth + '月']);\n  tableDateData.splice(24, 0, ['']);\n  tableDateData.splice(25, 0, [selectMonth + '月']);\n  var todayDate = new Date();\n  var todayDay = todayDate.getDate();\n\n  var isTodayRow = function isTodayRow(rowData) {\n    return rowData[0] === todayDay + '日';\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: [styles.date, {\n        height: '15%'\n      }],\n      children: _jsx(TouchableOpacity, {\n        style: styles.modalButton,\n        onPress: function onPress() {\n          toggleModal();\n        },\n        children: _jsxs(Text, {\n          style: styles.modalButtonText,\n          children: [selectYear, \"\\u5E74\", selectMonth, \"\\u6708\"]\n        })\n      })\n    }), _jsx(Modal, {\n      isVisible: isModalVisible,\n      onBackdropPress: toggleModal,\n      backdropTransitionOutTiming: 0,\n      animationIn: \"fadeInUpBig\",\n      animationOut: \"fadeOutDownBig\",\n      avoidKeyboard: true,\n      swipeDirection: \"down\",\n      onSwipeComplete: toggleModal,\n      children: _jsx(View, {\n        style: modalStyles.container,\n        children: _jsx(DatePicker, {\n          mode: \"monthYear\",\n          onMonthYearChange: function onMonthYearChange(selectedDate) {\n            setDate(selectedDate);\n            toggleModal();\n          },\n          current: date.slice(0, 4) + \"/\" + date.slice(5, 7) + \"/01\"\n        })\n      })\n    }), _jsxs(Swiper, {\n      style: styles.wrapper,\n      dot: _jsx(View, {\n        style: {\n          backgroundColor: 'rgba(0,0,0,.2)',\n          width: 8,\n          height: 8,\n          borderRadius: 4,\n          marginLeft: 3,\n          marginRight: 3,\n          marginTop: 3,\n          marginBottom: 3\n        }\n      }),\n      horizontal: false,\n      showsButtons: false,\n      showsPagination: true,\n      loop: false,\n      index: index,\n      loadMinimal: true,\n      children: [_jsxs(View, {\n        style: styles.table,\n        children: [_jsx(Table, {\n          borderStyle: {\n            borderWidth: 1,\n            borderColor: '#C1C0B9'\n          },\n          children: tableDateData.slice(0, 12).map(function (rowData, index) {\n            return _jsx(Row, {\n              data: rowData,\n              widthArr: [50],\n              style: styles.row,\n              textStyle: styles.text\n            }, index);\n          })\n        }), _jsx(ScrollView, {\n          horizontal: true,\n          style: styles.dataWrapper,\n          children: _jsxs(Table, {\n            borderStyle: {\n              borderWidth: 1,\n              borderColor: '#C1C0B9'\n            },\n            children: [_jsx(Row, {\n              data: tableHead,\n              widthArr: widthArr,\n              style: styles.header,\n              textStyle: styles.text\n            }), _jsx(Row, {\n              data: sybTableHead,\n              widthArr: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50],\n              style: styles.header,\n              textStyle: styles.text\n            }), tableData.slice(0, 10).map(function (rowData, index) {\n              return _jsx(Row, {\n                data: rowData,\n                widthArr: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50],\n                style: styles.row,\n                textStyle: styles.dataText\n              }, index);\n            })]\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.table,\n        children: [_jsx(Table, {\n          borderStyle: {\n            borderWidth: 1,\n            borderColor: '#C1C0B9'\n          },\n          children: tableDateData.slice(12, 24).map(function (rowData, index) {\n            return _jsx(Row, {\n              data: rowData,\n              widthArr: [50],\n              style: _objectSpread(_objectSpread({}, styles.row), isTodayRow(rowData) ? {\n                backgroundColor: '#D3EBE9'\n              } : {}),\n              textStyle: styles.text\n            }, index);\n          })\n        }), _jsx(ScrollView, {\n          horizontal: true,\n          style: styles.dataWrapper,\n          children: _jsxs(Table, {\n            borderStyle: {\n              borderWidth: 1,\n              borderColor: '#C1C0B9'\n            },\n            children: [_jsx(Row, {\n              data: tableHead,\n              widthArr: widthArr,\n              style: styles.header,\n              textStyle: styles.text\n            }), _jsx(Row, {\n              data: sybTableHead,\n              widthArr: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50],\n              style: styles.header,\n              textStyle: styles.text\n            }), tableData.slice(10, 20).map(function (rowData, index) {\n              return _jsx(Row, {\n                data: rowData,\n                widthArr: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50],\n                style: styles.row,\n                textStyle: styles.dataText\n              }, index);\n            })]\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.table,\n        children: [_jsx(Table, {\n          borderStyle: {\n            borderWidth: 1,\n            borderColor: '#C1C0B9'\n          },\n          children: tableDateData.slice(24).map(function (rowData, index) {\n            return _jsx(Row, {\n              data: rowData,\n              widthArr: [50],\n              style: styles.row,\n              textStyle: styles.text\n            }, index);\n          })\n        }), _jsx(ScrollView, {\n          horizontal: true,\n          style: styles.dataWrapper,\n          children: _jsxs(Table, {\n            borderStyle: {\n              borderWidth: 1,\n              borderColor: '#C1C0B9'\n            },\n            children: [_jsx(Row, {\n              data: tableHead,\n              widthArr: widthArr,\n              style: styles.header,\n              textStyle: styles.text\n            }), _jsx(Row, {\n              data: sybTableHead,\n              widthArr: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50],\n              style: styles.header,\n              textStyle: styles.text\n            }), tableData.slice(20).map(function (rowData, index) {\n              return _jsx(Row, {\n                data: rowData,\n                widthArr: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50],\n                style: styles.row,\n                textStyle: styles.dataText\n              }, index);\n            })]\n          })\n        })]\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F0F4F8'\n  },\n  date: {\n    flexDirection: 'row',\n    height: 70,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalButton: {\n    backgroundColor: '#FFF',\n    borderColor: '#36C1A7',\n    borderWidth: 1,\n    borderRadius: 10\n  },\n  modalButtonText: {\n    color: '#36C1A7',\n    fontWeight: 'bold',\n    textAlign: 'center',\n    padding: 10,\n    fontSize: 20\n  },\n  dateArrow: {\n    paddingHorizontal: 10\n  },\n  table: {\n    flexDirection: 'row',\n    paddingLeft: '5%',\n    paddingRight: '10%'\n  },\n  header: {\n    height: 40,\n    backgroundColor: '#D3EBE9'\n  },\n  text: {\n    textAlign: 'center',\n    fontWeight: '100'\n  },\n  dataText: {\n    textAlign: 'center',\n    fontWeight: 'bold'\n  },\n  dataWrapper: {\n    marginLeft: -1\n  },\n  row: {\n    height: 40\n  },\n  dot: {\n    marginLeft: 5\n  }\n});\nvar modalStyles = StyleSheet.create({\n  modalButton: {\n    backgroundColor: '#FFF',\n    borderColor: '#36C1A7',\n    borderWidth: 1,\n    borderRadius: 10\n  },\n  modalButtonText: {\n    color: '#36C1A7',\n    fontWeight: 'bold',\n    textAlign: 'center',\n    fontSize: 20\n  },\n  container: {\n    backgroundColor: '#FFF',\n    padding: '5%',\n    borderColor: '#36C1A7',\n    borderWidth: 3,\n    borderRadius: 20\n  },\n  title: {\n    color: '#36C1A7',\n    fontWeight: 'bold',\n    textAlign: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","firebase","Swiper","Table","Row","Modal","DatePicker","useBabyContext","nowDateYear","Date","getFullYear","nowDateMonth","getMonth","nowDateDay","getDate","initialIndex","RecordScreen","isModalVisible","setModalVisible","toggleModal","index","setIndex","toString","padStart","date","setDate","selectYear","slice","selectMonth","replace","groupBy","xs","key","reduce","rv","x","push","currentBaby","baby","setBaby","monthData","setMonthData","babyNameData","setBabyNameData","babyIdData","setBabyIdData","babyBirthdayData","setBabyBirthdayData","currentBabyData","forEach","doc","data","babyName","babyId","birthday","unsubscribedCurrentBaby","db","firestore","unsubscribedBaby","auth","onAuthStateChanged","user","babyRef","collection","uid","orderBy","onSnapshot","babySnapshot","userMemos","id","timeLeft","timeRight","milk","category","bonyu","toilet","disease","bodyTemperature","food","freeText","bodyText","selectBaby","day","updatedAt","toDate","babyError","console","log","Alert","alert","tableHead","sybTableHead","widthArr","lastDay","tableData","junyLeftTotal","junyRightTotal","milkTotal","bonyuTotal","bonyuCount","oshikkoCount","unchiCount","maxBodyTemperature","minBodyTemperature","foodCount","tansuikabutsuCount","tampakushitsuCount","bitaminCount","chomiryoCount","drinkTotal","hanamizuCount","sekiCount","otoCount","hosshinCount","kegaCount","kusuriCount","filter","i","groupByCategory","junyu","JUNYU","MILK","BONYU","TOILET","DISEASE","FOOD","oshikko","unchi","tansuikabutsu","tampakushitsu","bitamin","chomiryo","isNaN","drink","hanamizu","seki","oto","hosshin","kega","kusuri","rowData","tableDateData","splice","todayDate","todayDay","isTodayRow","styles","container","height","modalButton","modalButtonText","modalStyles","selectedDate","wrapper","backgroundColor","width","borderRadius","marginLeft","marginRight","marginTop","marginBottom","table","borderWidth","borderColor","map","row","text","dataWrapper","header","dataText","StyleSheet","create","flex","flexDirection","alignItems","justifyContent","color","fontWeight","textAlign","padding","fontSize","dateArrow","paddingHorizontal","paddingLeft","paddingRight","dot","title"],"sources":["/Users/atsushi/Dev/baby/src/screens/RecordScreen.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport firebase from 'firebase';\nimport Swiper from 'react-native-swiper'\nimport { StyleSheet, View, ScrollView, TouchableOpacity, Text } from 'react-native';\nimport { Table, Row } from 'react-native-table-component';\nimport Modal from \"react-native-modal\";\nimport DatePicker from 'react-native-modern-datepicker';\nimport { useBabyContext } from '../context/BabyContext';\n\nconst nowDateYear = new Date().getFullYear();\nconst nowDateMonth = new Date().getMonth() + 1;\nconst nowDateDay = new Date().getDate();\nlet initialIndex;\n\nif (nowDateDay <= 10) {\n    initialIndex = 0;\n} else if (nowDateDay <= 20) {\n    initialIndex = 1;\n} else {\n    initialIndex = 2;\n}\n\nexport default function RecordScreen() {\n    const [isModalVisible, setModalVisible] = useState(false);\n    const toggleModal = () => {\n        setModalVisible(!isModalVisible);\n    };\n\n    \n    const [index, setIndex] = useState(initialIndex);\n    const [date, setDate] = useState(`${nowDateYear}/${nowDateMonth.toString().padStart(2, \"0\")}/01`);\n    let selectYear = date.slice( 0, 4 );\n    let selectMonth = date.slice( 5, 7 ).replace(/^0+/, \"\");\n\n    const groupBy = function(xs, key) {\n        return xs.reduce(function(rv, x) {\n            (rv[x[key]] = rv[x[key]] || []).push(x);\n            return rv;\n        }, {});\n    };\n\n\n\n\n\n\n\n\n    const { currentBaby } = useBabyContext();\n\n    const [baby, setBaby] = useState('');\n    const [monthData, setMonthData] = useState([]);\n    const [babyNameData, setBabyNameData] = useState('');\n    const [babyIdData, setBabyIdData] = useState('');\n    const [babyBirthdayData, setBabyBirthdayData] = useState('');\n\n    useEffect(() => {\n        const currentBabyData = [];\n        if(currentBaby !== \"\") {\n            currentBaby.forEach((doc) => {\n                const data = doc.data();\n                setBabyNameData(data.babyName)\n                setBabyIdData(data.babyId)\n                setBabyBirthdayData(data.birthday)\n            });\n        }\n    }, [currentBaby]);\n\n    // unsubscribedCurrentBaby を定義\n    let unsubscribedCurrentBaby;\n\n    useEffect(() => {\n        const db = firebase.firestore();\n        let unsubscribedBaby = firebase.auth().onAuthStateChanged((user) => {\n            if (user && babyIdData) {\n                const babyRef = db.collection(`users/${user.uid}/babyData`).doc(babyIdData)\n                .collection(`${selectYear}_${selectMonth}`).orderBy('updatedAt', 'asc'); \n                unsubscribedBaby = babyRef.onSnapshot((babySnapshot) => {\n                    setBaby(babySnapshot);\n\n                    const userMemos = [];\n                    babySnapshot.forEach((doc) => {\n                        const data = doc.data();\n                        userMemos.push({\n                            id: doc.id,\n                            timeLeft: data.timeLeft,\n                            timeRight: data.timeRight,\n                            milk: data.milk,\n                            category: data.category,\n                            bonyu: data.bonyu,\n                            toilet: data.toilet,\n                            disease: data.disease,\n                            bodyTemperature: data.bodyTemperature,\n                            food: data.food,\n                            freeText: data.freeText,\n                            bodyText: data.bodyText,\n                            selectBaby: data.selectBaby,\n                            day: data.day,\n                            updatedAt: data.updatedAt.toDate(),\n                        });\n                    });\n                    setMonthData(userMemos);\n                }, (babyError) => {\n                    console.log(babyError);\n                    Alert.alert('babyデータの読み込みに失敗しました。');\n                });\n            }\n        });\n        return () => {\n            unsubscribedBaby();\n            \n            // クリーンアップ時にunsubscribedCurrentBabyも呼び出す\n            if (unsubscribedCurrentBaby) {\n                unsubscribedCurrentBaby();\n            }\n        };\n    }, [babyIdData, date]);\n\n    const tableHead = ['授乳', '哺乳瓶', 'ご飯', 'トイレ', '病気', '体温']\n    const sybTableHead = ['左', '右', 'ミルク', '母乳', '炭水化物', 'タンパク質', 'ミネラル', '調味料', '飲み物', 'おしっこ', 'うんち', '鼻水', '咳', '嘔吐', '発疹', '怪我', '薬', '最高', '最低']\n    const widthArr = [100, 100, 250, 100, 300, 100]\n\n    const lastDay = new Date( selectYear, selectMonth, 0 ) ;\n\n    const tableData = [];\n    for (let i = 1; i < lastDay.getDate() + 1; i += 1) {\n        let junyLeftTotal = 0;\n        let junyRightTotal = 0;\n        let milkTotal = 0;\n        let bonyuTotal = 0;\n        let bonyuCount = 0;\n        \n        let oshikkoCount = 0;\n        let unchiCount = 0;\n        \n        let maxBodyTemperature = 0;\n        let minBodyTemperature = 0;\n\n        let foodCount = 0;\n        let tansuikabutsuCount = 0;\n        let tampakushitsuCount = 0;\n        let bitaminCount = 0;\n        let chomiryoCount = 0;\n        let drinkTotal = 0;\n\n        let hanamizuCount = 0;\n        let sekiCount = 0;\n        let otoCount = 0;\n        let hosshinCount = 0;\n        let kegaCount = 0;\n        let kusuriCount = 0;\n\n        const x = monthData.filter((data) => data.day == [i])\n        const groupByCategory = groupBy(x, 'category');\n        const junyu = groupByCategory.JUNYU\n        const milk  = groupByCategory.MILK\n        const bonyu  = groupByCategory.BONYU\n        const toilet  = groupByCategory.TOILET\n        const disease  = groupByCategory.DISEASE\n        const food  = groupByCategory.FOOD\n\n        for (let key in junyu) {\n            junyLeftTotal += junyu[key].timeLeft\n            junyRightTotal += junyu[key].timeRight\n        }\n        if(junyLeftTotal == 0) {\n            junyLeftTotal = '-'\n        } else {\n            junyLeftTotal = junyLeftTotal + '分'\n        }\n        if(junyRightTotal == 0) {\n            junyRightTotal = '-'\n        } else {\n            junyRightTotal = junyRightTotal + '分'\n        }\n\n        for (let key in milk) {\n            milkTotal += milk[key].milk\n        }\n        if(milkTotal == 0) {\n            milkTotal = '-'\n        } else {\n            milkTotal = milkTotal + '\\nml'\n        }\n\n        for (let key in bonyu) {\n            bonyuTotal += bonyu[key].bonyu\n            bonyuCount += 1\n        }\n        if(bonyuTotal == 0) {\n            bonyuTotal = '-'\n        } else {\n            bonyuTotal = bonyuTotal + '\\nml'\n        }\n\n        for (let key in toilet) {\n            if(toilet[key].toilet.oshikko) {\n                oshikkoCount += 1\n            }\n            if(toilet[key].toilet.unchi) {\n                unchiCount += 1\n            }\n        }\n        if(oshikkoCount == 0) {\n            oshikkoCount = '-'\n        } else {\n            oshikkoCount = oshikkoCount + '回'\n        }\n        if(unchiCount == 0) {\n            unchiCount = '-'\n        } else {\n            unchiCount = unchiCount + '回'\n        }\n\n        for (let key in food) {\n            if(food[key].food.tansuikabutsu) {\n                tansuikabutsuCount += 1\n            }\n            if(food[key].food.tampakushitsu) {\n                tampakushitsuCount += 1\n            }\n            if(food[key].food.bitamin) {\n                bitaminCount += 1\n            }\n            if(food[key].food.chomiryo) {\n                chomiryoCount += 1\n            }\n            if(!isNaN(food[key].food.drink)) {\n                drinkTotal += food[key].food.drink\n            }\n            foodCount += 1\n        }\n\n        for (let key in disease) {\n            if(disease[key].disease.hanamizu) {\n                hanamizuCount += 1\n            }\n            if(disease[key].disease.seki) {\n                sekiCount += 1\n            }\n            if(disease[key].disease.oto) {\n                otoCount += 1\n            }\n            if(disease[key].disease.hosshin) {\n                hosshinCount += 1\n            }\n            if(disease[key].disease.kega) {\n                kegaCount += 1\n            }\n            if(disease[key].disease.kusuri) {\n                kusuriCount += 1\n            }\n        }\n        if(hanamizuCount == 0) {\n            hanamizuCount = '-'\n        } else {\n            hanamizuCount = hanamizuCount + '回'\n        }\n        if(sekiCount == 0) {\n            sekiCount = '-'\n        } else {\n            sekiCount = sekiCount + '回'\n        }\n        if(otoCount == 0) {\n            otoCount = '-'\n        } else {\n            otoCount = otoCount + '回'\n        }\n        if(hosshinCount == 0) {\n            hosshinCount = '-'\n        } else {\n            hosshinCount = hosshinCount + '回'\n        }\n        if(kegaCount == 0) {\n            kegaCount = '-'\n        } else {\n            kegaCount = kegaCount + '回'\n        }\n        if(kusuriCount == 0) {\n            kusuriCount = '-'\n        } else {\n            kusuriCount = kusuriCount + '回'\n        }\n\n        for (let key in disease) {\n            if(!isNaN(disease[key].disease.bodyTemperature)) {\n                maxBodyTemperature = disease[key].disease.bodyTemperature\n                minBodyTemperature = disease[key].disease.bodyTemperature\n            }\n        }\n        if(maxBodyTemperature == 0) {\n            maxBodyTemperature = '-'\n        } else {\n            maxBodyTemperature = maxBodyTemperature + '°'\n        }\n        if(minBodyTemperature == 0) {\n            minBodyTemperature = '-'\n        } else {\n            minBodyTemperature = minBodyTemperature + '°'\n        }\n\n        const rowData = [];\n\n        rowData.push(`${junyLeftTotal}`);\n        rowData.push(`${junyRightTotal}`);\n        rowData.push(`${milkTotal}`);\n        rowData.push(`${bonyuTotal}`);\n        rowData.push(`${tansuikabutsuCount}`);\n        rowData.push(`${tampakushitsuCount}`);\n        rowData.push(`${bitaminCount}`);\n        rowData.push(`${chomiryoCount}`);\n        rowData.push(`${drinkTotal}`);\n        rowData.push(`${oshikkoCount}`);\n        rowData.push(`${unchiCount}`);\n        rowData.push(`${hanamizuCount}`);\n        rowData.push(`${sekiCount}`);\n        rowData.push(`${otoCount}`);\n        rowData.push(`${hosshinCount}`);\n        rowData.push(`${kegaCount}`);\n        rowData.push(`${kusuriCount}`);\n        rowData.push(`${maxBodyTemperature}`);\n        rowData.push(`${minBodyTemperature}`);\n        \n        tableData.push(rowData);\n    }\n\n    const tableDateData = [];\n    tableDateData.push(['']);\n    tableDateData.push([selectMonth + '月']);\n    for (let i = 1; i < lastDay.getDate() + 1; i += 1) {\n    //for (let i = 1; i < 16; i += 1) {\n            const rowData = [];\n        rowData.push(`${i}日`);\n        tableDateData.push(rowData);\n    }\n    tableDateData.splice(12, 0, ['']);\n    tableDateData.splice(13, 0, [selectMonth + '月']);\n    tableDateData.splice(24, 0, ['']);\n    tableDateData.splice(25, 0, [selectMonth + '月']);\n\n    const todayDate = new Date();\n    const todayDay = todayDate.getDate();\n    const isTodayRow = (rowData) => {\n        return rowData[0] === todayDay + '日';\n    };\n    \n    return (\n        <View style={styles.container}>\n            <View style={[styles.date , {height: '15%'}]}>\n                <TouchableOpacity\n                    style={styles.modalButton}\n                    onPress={() => {\n                        toggleModal();\n                    }}\n                >\n                    <Text style={styles.modalButtonText}>\n                        {selectYear}年{selectMonth}月\n                    </Text>\n                </TouchableOpacity>\n            </View>\n            <Modal isVisible={isModalVisible}\n                onBackdropPress={toggleModal}\n                backdropTransitionOutTiming={0}\n                //modalレパートリー\n                //\"bounce\" | \"flash\" | \"jello\" | \"pulse\" | \"rotate\" | \"rubberBand\" | \"shake\" | \"swing\" | \"tada\" | \"wobble\" | \"bounceIn\" | \"bounceInDown\" | \"bounceInUp\" | \"bounceInLeft\" | \"bounceInRight\" | \"bounceOut\" | \"bounceOutDown\" | \"bounceOutUp\" | \"bounceOutLeft\" | \"bounceOutRight\" | \"fadeIn\" | \"fadeInDown\" | \"fadeInDownBig\" | \"fadeInUp\" | \"fadeInUpBig\" | \"fadeInLeft\" | \"fadeInLeftBig\" | \"fadeInRight\" | \"fadeInRightBig\" | \"fadeOut\" | \"fadeOutDown\" | \"fadeOutDownBig\" | \"fadeOutUp\" | \"fadeOutUpBig\" | \"fadeOutLeft\" | \"fadeOutLeftBig\" | \"fadeOutRight\" | \"fadeOutRightBig\" | \"flipInX\" | \"flipInY\" | \"flipOutX\" | \"flipOutY\" | \"lightSpeedIn\" | \"lightSpeedOut\" | \"slideInDown\" | \"slideInUp\" | \"slideInLeft\" | \"slideInRight\" | \"slideOutDown\" | \"slideOutUp\" | \"slideOutLeft\" | \"slideOutRight\" | \"zoomIn\" | \"zoomInDown\" | \"zoomInUp\" | \"zoomInLeft\" | \"zoomInRight\" | \"zoomOut\" | \"zoomOutDown\" | \"zoomOutUp\" | \"zoomOutLeft\" | \"zoomOutRight\" |\n                animationIn=\"fadeInUpBig\"\n                animationOut=\"fadeOutDownBig\"\n                avoidKeyboard={true}\n                swipeDirection=\"down\"\n                onSwipeComplete={toggleModal}\n                >\n                <View style={modalStyles.container}>\n                <DatePicker\n                    mode=\"monthYear\"\n                    //selectorStartingYear={9000}\n                    onMonthYearChange={selectedDate => {\n                        setDate(selectedDate)\n                        toggleModal()\n                    }}\n                    current={`${date.slice( 0, 4 )}/${date.slice( 5, 7 )}/01`}\n                    //selected={`${date.slice( 0, 4 )}/${date.slice( 5, 7 )}/01`}\n                    //current={date}\n                    //selected={date}\n                />\n                </View>\n            </Modal>\n            <Swiper\n                style={styles.wrapper}\n                dot={<View style={{backgroundColor:'rgba(0,0,0,.2)', width: 8, height: 8,borderRadius: 4, marginLeft: 3, marginRight: 3, marginTop: 3, marginBottom: 3,}} />}\n                horizontal={false}\n                showsButtons={false}//サイドボタン\n                //onIndexChanged={(index) => {console.log(index)}}\n                showsPagination={true}//下部マーク\n                loop={false}//連続ループ\n                index={index}\n                loadMinimal={true}\n                //renderPagination={renderPagination}\n            >\n                <View style={styles.table}>\n                    <Table borderStyle={{borderWidth: 1, borderColor: '#C1C0B9'}}>\n                        {\n                            tableDateData.slice(0,12).map((rowData, index) => (\n                                <Row\n                                    key={index}\n                                    data={rowData}\n                                    widthArr={[50]}\n                                    style={styles.row}\n                                    textStyle={styles.text}\n                                />\n                            ))\n                        }\n                    </Table>\n                    <ScrollView horizontal={true} style={styles.dataWrapper}>\n                        <Table borderStyle={{borderWidth: 1, borderColor: '#C1C0B9'}}>\n                            <Row data={tableHead} widthArr={widthArr} style={styles.header} textStyle={styles.text}/>\n                            <Row data={sybTableHead} widthArr={[50, 50, 50, 50, 50, 50, 50, 50, 50, 50,50, 50, 50, 50, 50, 50, 50, 50, 50]} style={styles.header} textStyle={styles.text}/>\n                            {\n                                tableData.slice(0,10).map((rowData, index) => (\n                                    <Row\n                                        key={index}\n                                        data={rowData}\n                                        widthArr={[50, 50, 50, 50, 50, 50, 50, 50, 50, 50,50, 50, 50, 50, 50, 50, 50, 50, 50]}\n                                        style={styles.row}\n                                        textStyle={styles.dataText}\n                                    />\n                                ))\n                            }\n                        </Table>\n                        \n                    </ScrollView>\n                </View>\n                <View style={styles.table}>\n                    <Table borderStyle={{borderWidth: 1, borderColor: '#C1C0B9'}}>\n                        {\n                            tableDateData.slice(12,24).map((rowData, index) => (\n                                <Row\n                                    key={index}\n                                    data={rowData}\n                                    widthArr={[50]}\n                                    style={{\n                                        ...styles.row,\n                                        ...(isTodayRow(rowData) ? { backgroundColor: '#D3EBE9' } : {}), // 今日の行は背景色を変更\n                                    }}\n                                    textStyle={styles.text}\n                                />\n                            ))\n                        }\n                    </Table>\n                    <ScrollView horizontal={true} style={styles.dataWrapper}>\n                        <Table borderStyle={{borderWidth: 1, borderColor: '#C1C0B9'}}>\n                            <Row data={tableHead} widthArr={widthArr} style={styles.header} textStyle={styles.text}/>\n                            <Row data={sybTableHead} widthArr={[50, 50, 50, 50, 50, 50, 50, 50, 50, 50,50, 50, 50, 50, 50, 50, 50, 50, 50]} style={styles.header} textStyle={styles.text}/>\n                            {\n                                tableData.slice(10,20).map((rowData, index) => (\n                                    <Row\n                                        key={index}\n                                        data={rowData}\n                                        widthArr={[50, 50, 50, 50, 50, 50, 50, 50, 50, 50,50, 50, 50, 50, 50, 50, 50, 50, 50]}\n                                        style={styles.row}\n                                        textStyle={styles.dataText}\n                                    />\n                                ))\n                            }\n                        </Table>\n                    </ScrollView>\n                </View>\n                <View style={styles.table}>\n                    <Table borderStyle={{borderWidth: 1, borderColor: '#C1C0B9'}}>\n                        {\n                            tableDateData.slice(24).map((rowData, index) => (\n                                <Row\n                                    key={index}\n                                    data={rowData}\n                                    widthArr={[50]}\n                                    style={styles.row}\n                                    textStyle={styles.text}\n                                />\n                            ))\n                        }\n                    </Table>\n                    <ScrollView horizontal={true} style={styles.dataWrapper}>\n                        <Table borderStyle={{borderWidth: 1, borderColor: '#C1C0B9'}}>\n                            <Row data={tableHead} widthArr={widthArr} style={styles.header} textStyle={styles.text}/>\n                            <Row data={sybTableHead} widthArr={[50, 50, 50, 50, 50, 50, 50, 50, 50, 50,50, 50, 50, 50, 50, 50, 50, 50, 50]} style={styles.header} textStyle={styles.text}/>\n                            {\n                                tableData.slice(20).map((rowData, index) => (\n                                    <Row\n                                        key={index}\n                                        data={rowData}\n                                        widthArr={[50, 50, 50, 50, 50, 50, 50, 50, 50, 50,50, 50, 50, 50, 50, 50, 50, 50, 50]}\n                                        style={styles.row}\n                                        textStyle={styles.dataText}\n                                    />\n                                ))\n                            }\n                        </Table>\n                    </ScrollView>\n                </View>\n            </Swiper>\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: { \n        flex: 1,\n        backgroundColor: '#F0F4F8',\n    },\n    date: {\n        flexDirection: 'row',\n        height: 70,\n        alignItems:'center',\n        justifyContent: 'center',\n    },\n    modalButton : {\n        backgroundColor : '#FFF',\n        borderColor : '#36C1A7',\n        borderWidth : 1,\n        borderRadius : 10,\n        //fontSize: 20,\n        //paddingHorizontal: 10,\n    },\n    modalButtonText : {\n        color : '#36C1A7',\n        fontWeight : 'bold',\n        textAlign : 'center',\n        padding: 10,\n        fontSize: 20,\n    },\n    dateArrow: {\n        paddingHorizontal: 10,\n    },\n    table: { flexDirection: 'row', paddingLeft: '5%', paddingRight: '10%' },\n    header: { height: 40, backgroundColor: '#D3EBE9', },\n    text: { textAlign: 'center', fontWeight: '100' },\n    dataText: { textAlign: 'center', fontWeight: 'bold' },\n    //wrapper: { padding: '5%' },\n    dataWrapper: { marginLeft: -1 }, //flexDirection: 'column'\n    row: { height: 40 },\n    dot: {\n        marginLeft: 5,\n    }\n});\n\nconst modalStyles = StyleSheet.create({\n    modalButton : {\n        backgroundColor : '#FFF',\n        borderColor : '#36C1A7',\n        borderWidth : 1,\n        borderRadius : 10,\n    },\n    modalButtonText : {\n        color : '#36C1A7',\n        fontWeight : 'bold',\n        textAlign : 'center',\n        //padding: 10,\n        fontSize: 20,\n    },\n    container : {\n        backgroundColor : '#FFF',\n        padding : '5%',\n        borderColor : '#36C1A7',\n        borderWidth : 3,\n        borderRadius : 20,\n    },\n    title : {\n        color : '#36C1A7',\n        fontWeight : 'bold',\n        textAlign: 'center'\n    },\n    //arrow : {\n        //color : '#36C1A7',\n    //},\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}
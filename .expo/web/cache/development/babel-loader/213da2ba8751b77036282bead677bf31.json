{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport firebase from 'firebase';\nimport Button from \"../components/Button\";\nimport Loading from \"../components/Loading\";\nimport LogOutButton from \"../components/LogOutButton\";\nimport { translateErrors } from \"../utils\";\nimport { useUserContext } from \"../context/UserContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function AcountScreen(props) {\n  var _useUserContext = useUserContext(),\n      user = _useUserContext.user;\n\n  var navigation = props.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setLoading = _useState6[1];\n\n  function handlePress() {\n    setLoading(true);\n    var deleteUser = user;\n    firebase.auth().signInWithEmailAndPassword(email, password).then(function (userCredentail) {\n      var user = userCredentail.user;\n      console.log(user.uid);\n      navigation.navigate('メイン');\n      navigation.reset({\n        index: 0,\n        routes: [{\n          name: 'Setting'\n        }]\n      });\n      deleteUser.delete();\n    }).catch(function (error) {\n      var errorMsg = translateErrors(error.code);\n      Alert.alert(errorMsg.title, errorMsg.description);\n    }).then(function () {\n      setLoading(false);\n    });\n  }\n\n  if (user) {\n    if (user.isAnonymous) {\n      return _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(Loading, {\n          isLoading: isLoading\n        }), _jsxs(View, {\n          style: styles.inner,\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            value: email,\n            onChangeText: function onChangeText(text) {\n              setEmail(text);\n            },\n            autoCapitalize: \"none\",\n            keyboardType: \"email-address\",\n            placeholder: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\",\n            textContentType: \"emailAddress\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            value: password,\n            onChangeText: function onChangeText(text) {\n              setPassword(text);\n            },\n            autoCapitalize: \"none\",\n            placeholder: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n            secureTextEntry: true,\n            textContentType: \"password\"\n          }), _jsx(Button, {\n            label: \"\\u30ED\\u30B0\\u30A4\\u30F3\",\n            onPress: handlePress\n          }), _jsxs(View, {\n            style: styles.footer,\n            children: [_jsx(Text, {\n              style: styles.footerText,\n              children: \"\\u4F1A\\u54E1\\u767B\\u9332\\u306F\"\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.reset({\n                  index: 0,\n                  routes: [{\n                    name: 'SignUp'\n                  }]\n                });\n              },\n              children: _jsx(Text, {\n                style: styles.footerLink,\n                children: \"\\u3053\\u3061\\u3089\"\n              })\n            })]\n          })]\n        })]\n      });\n    } else {\n      return _jsx(View, {\n        style: styles.container,\n        children: _jsxs(View, {\n          style: styles.inner,\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: \"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\"\n          }), _jsx(Text, {\n            children: \"\\u30ED\\u30B0\\u30A4\\u30F3\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\"\n          }), _jsx(Text, {\n            children: user.email\n          }), _jsx(LogOutButton, {})]\n        })\n      });\n    }\n  }\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F0F4F8'\n  },\n  inner: {\n    paddingHorizontal: 27,\n    paddingVertical: 24\n  },\n  title: {\n    fontSize: 24,\n    lineHeight: 32,\n    fontWeight: 'bold',\n    marginBottom: 24\n  },\n  input: {\n    fontSize: 16,\n    height: 48,\n    borderColor: '#DDDDDD',\n    borderWidth: 1,\n    backgroundColor: '#ffffff',\n    paddingHorizontal: 8,\n    marginBottom: 16\n  },\n  footerText: {\n    fontSize: 14,\n    lineHeight: 24,\n    marginRight: 8\n  },\n  footerLink: {\n    fontSize: 14,\n    lineHeight: 24,\n    color: '#467FD3'\n  },\n  footer: {\n    flexDirection: 'row'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","firebase","Button","Loading","LogOutButton","translateErrors","useUserContext","AcountScreen","props","user","navigation","email","setEmail","password","setPassword","isLoading","setLoading","handlePress","deleteUser","auth","signInWithEmailAndPassword","then","userCredentail","console","log","uid","navigate","reset","index","routes","name","delete","catch","error","errorMsg","code","Alert","alert","title","description","isAnonymous","styles","container","inner","input","text","footer","footerText","footerLink","StyleSheet","create","flex","backgroundColor","paddingHorizontal","paddingVertical","fontSize","lineHeight","fontWeight","marginBottom","height","borderColor","borderWidth","marginRight","color","flexDirection"],"sources":["/Users/atsushi/Dev/baby/src/screens/AcountScreen.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, StyleSheet, TouchableOpacity, Alert, } from 'react-native';\nimport firebase from 'firebase';\n\nimport Button from '../components/Button';\nimport Loading from '../components/Loading';\nimport LogOutButton from '../components/LogOutButton';\nimport { translateErrors } from '../utils';\n\nimport { useUserContext } from '../context/UserContext';\n\nexport default function AcountScreen(props) {\n    const { user } = useUserContext();\n    \n    const { navigation } = props;\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    //const [isLoading, setLoading] = useState(true);\n    const [isLoading, setLoading] = useState(false);\n\n    function handlePress() {\n        setLoading(true);\n        const deleteUser = user;\n        firebase.auth().signInWithEmailAndPassword(email, password)\n        .then((userCredentail) => {\n            \n            const { user } = userCredentail;\n            console.log(user.uid);\n            navigation.navigate('メイン')\n            navigation.reset({\n                index: 0,\n                routes: [{ name: 'Setting'}],\n            });\n            //navigation.jumpTo('CenterTab');\n            //navigation.jumpTo('CenterTab', { owner: 'Michaś' });\n            deleteUser.delete();\n        })\n        .catch((error) => {\n            const errorMsg = translateErrors(error.code);\n            Alert.alert(errorMsg.title, errorMsg.description);\n        })\n        .then(() => {\n            setLoading(false);\n        });\n    }\n\n    if(user) {\n        if(user.isAnonymous) {\n            return (\n                <View style={styles.container}>\n                    <Loading isLoading={isLoading} />\n                    <View style={styles.inner}>\n                        <Text style={styles.title}>ログイン</Text>\n                        <TextInput\n                            style={styles.input}\n                            value={email}\n                            onChangeText={(text) => { setEmail(text); }}\n                            autoCapitalize=\"none\"\n                            keyboardType=\"email-address\"\n                            placeholder=\"メールアドレス\"\n                            textContentType=\"emailAddress\"\n                        />\n                        <TextInput\n                            style={styles.input}\n                            value={password}\n                            onChangeText={(text) => { setPassword(text); }}\n                            autoCapitalize=\"none\"\n                            placeholder=\"パスワード\"\n                            secureTextEntry\n                            textContentType=\"password\"\n                        />\n                        <Button\n                            label=\"ログイン\"\n                            onPress={handlePress}\n                        />\n                        <View style={styles.footer}>\n                            <Text style={styles.footerText}>会員登録は</Text>\n                            <TouchableOpacity onPress={() => { navigation.reset({\n                                index: 0,\n                                routes: [{ name: 'SignUp'}],\n                            }); }}>\n                                <Text style={styles.footerLink}>こちら</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </View>\n            );\n        } else {\n            return (\n                <View style={styles.container}>\n                    <View style={styles.inner}>\n                        <Text style={styles.title}>アカウント</Text>\n                        <Text>ログインアカウント</Text>\n                        <Text>{user.email}</Text>\n                        <LogOutButton />\n                    </View>\n                </View>\n            );\n        }\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#F0F4F8',\n    },\n    inner: {\n        paddingHorizontal: 27,\n        paddingVertical: 24,\n    },\n    title: {\n        fontSize: 24,\n        lineHeight: 32,\n        fontWeight: 'bold',\n        marginBottom: 24,\n    },\n    input: {\n        fontSize: 16,\n        height: 48,\n        borderColor: '#DDDDDD',\n        borderWidth: 1,\n        backgroundColor: '#ffffff',\n        paddingHorizontal: 8,\n        marginBottom: 16,\n    },\n    footerText: {\n        fontSize: 14,\n        lineHeight: 24,\n        marginRight: 8,\n    },\n    footerLink: {\n        fontSize: 14,\n        lineHeight: 24,\n        color: '#467FD3',\n    },\n    footer: {\n        flexDirection: 'row'\n    },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { useIsFocused } from '@react-navigation/native';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport DropDownPicker from 'react-native-dropdown-picker';\nimport storage from \"../context/Storage\";\nimport { useBabyContext } from \"../context/BabyContext\";\nimport { useCurrentBabyContext } from \"../context/CurrentBabyContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function CurrentBabyPicker() {\n  var isFocused = useIsFocused();\n\n  var _useBabyContext = useBabyContext(),\n      baby = _useBabyContext.baby;\n\n  var _useCurrentBabyContex = useCurrentBabyContext(),\n      currentBabyState = _useCurrentBabyContex.currentBabyState,\n      currentBabyDispatch = _useCurrentBabyContex.currentBabyDispatch;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      listStatus = _useState2[0],\n      setListStatus = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      babyNameData = _useState4[0],\n      setBabyNameData = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      babyIdData = _useState6[0],\n      setBabyIdData = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      babyBirthdayData = _useState8[0],\n      setBabyBirthdayData = _useState8[1];\n\n  var babyData = [];\n\n  if (baby !== \"\") {\n    baby.forEach(function (doc) {\n      var data = doc.data();\n      babyData.push({\n        id: doc.id,\n        babyName: data.babyName,\n        birthday: data.birthday\n      });\n    });\n  }\n\n  useEffect(function () {\n    storage.load({\n      key: 'selectbaby'\n    }).then(function (data) {\n      setBabyNameData(data.babyName);\n      setBabyIdData(data.babyId);\n      setBabyBirthdayData(data.babyBirthday);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, [currentBabyState, isFocused]);\n  var pickerName = [];\n\n  for (var item of babyData) {\n    pickerName.push({\n      label: item.babyName,\n      value: item\n    });\n  }\n\n  return _jsx(DropDownPicker, {\n    open: listStatus,\n    onOpen: function onOpen() {\n      return setListStatus(true);\n    },\n    onClose: function onClose() {\n      return setListStatus(false);\n    },\n    items: function () {\n      return pickerName;\n    }(),\n    closeAfterSelecting: true,\n    value: {\n      babyBirthday: new Date(babyBirthdayData),\n      babyId: babyIdData,\n      babyName: babyNameData\n    },\n    autoScroll: true,\n    placeholder: babyNameData,\n    containerStyle: {\n      height: 50\n    },\n    style: styles.pikerStyle,\n    dropDownContainerStyle: styles.pikerListStyle,\n    onSelectValue: function onSelectValue(item) {\n      console.log(item);\n    },\n    onSelectItem: function onSelectItem(item) {\n      currentBabyDispatch({\n        type: \"addBaby\",\n        babyName: item.value.babyName,\n        babyBirthday: item.value.birthday.toDate(),\n        babyId: item.value.id\n      });\n      setBabyNameData(item.value.babyName);\n    },\n    onChangeValue: function onChangeValue(item) {}\n  });\n}\nvar styles = StyleSheet.create({\n  buttonContainer: {\n    backgroundColor: '#FFDB59',\n    borderRadius: 4,\n    alignSelf: 'flex-start',\n    marginBottom: 24\n  },\n  buttonLabel: {\n    fontSize: 16,\n    lineHeight: 32,\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    color: '#ffffff'\n  },\n  pikerStyle: {\n    width: \"90%\"\n  },\n  pikerListStyle: {\n    width: \"90%\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useIsFocused","DropDownPicker","storage","useBabyContext","useCurrentBabyContext","CurrentBabyPicker","isFocused","baby","currentBabyState","currentBabyDispatch","listStatus","setListStatus","babyNameData","setBabyNameData","babyIdData","setBabyIdData","babyBirthdayData","setBabyBirthdayData","babyData","forEach","doc","data","push","id","babyName","birthday","load","key","then","babyId","babyBirthday","catch","err","console","log","pickerName","item","label","value","Date","height","styles","pikerStyle","pikerListStyle","type","toDate","StyleSheet","create","buttonContainer","backgroundColor","borderRadius","alignSelf","marginBottom","buttonLabel","fontSize","lineHeight","paddingVertical","paddingHorizontal","color","width"],"sources":["/Users/atsushi/Dev/baby/src/components/CurrentBabyPicker.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useIsFocused } from '@react-navigation/native'\nimport { StyleSheet } from 'react-native';\nimport DropDownPicker from 'react-native-dropdown-picker';\n\nimport storage from '../context/Storage';\n\nimport { useBabyContext } from '../context/BabyContext';\nimport { useCurrentBabyContext } from '../context/CurrentBabyContext';\n\nexport default function CurrentBabyPicker() {\n    const isFocused = useIsFocused()\n\n    const { baby } = useBabyContext();\n    const { currentBabyState, currentBabyDispatch } = useCurrentBabyContext();\n    const [listStatus, setListStatus] = useState(false);\n\n    const [babyNameData, setBabyNameData] = useState();\n    const [babyIdData, setBabyIdData] = useState();\n    const [babyBirthdayData, setBabyBirthdayData] = useState();\n\n    const babyData = [];\n    if(baby !== \"\") {\n        baby.forEach((doc) => {\n            const data = doc.data();\n            babyData.push({\n                id: doc.id,\n                babyName: data.babyName,\n                birthday: data.birthday,\n            });\n        });\n    }\n    //console.log(currentBabyState)\n    //console.log({\n        //babyBirthday: babyBirthdayData,\n        //babyId: babyIdData,\n        //babyName: babyNameData\n    //})\n    useEffect(() => {\n        storage.load({\n            key : 'selectbaby',\n        }).then(data => {\n            // 読み込み成功時処理\n            setBabyNameData(data.babyName)\n            setBabyIdData(data.babyId)\n            setBabyBirthdayData(data.babyBirthday)\n            //console.log(data.babyBirthday)\n        }).catch(err => {\n            // 読み込み失敗時処理\n            console.log(err)\n        });\n    }, [currentBabyState, isFocused]);\n\n    let pickerName = [];\n    for( let item of babyData ) {\n        pickerName.push({label: item.babyName, value: item});\n    }\n\n    return (\n        <DropDownPicker\n            open={listStatus}\n            onOpen={() => setListStatus(true)}\n            onClose={() => setListStatus(false)}\n            items={(() => {\n                return(pickerName)\n            })()}\n            closeAfterSelecting={true}\n            value={{\n                babyBirthday: new Date(babyBirthdayData),\n                babyId: babyIdData,\n                babyName: babyNameData\n            }}//なにこれ\n            autoScroll={true}\n            placeholder={babyNameData}//設定中ラベル名\n            containerStyle={{height: 50}}\n            style={styles.pikerStyle}\n            //selectedItemLabelStyle\n            //textStyle={styles.pikerTextStyle}\n            //placeholderStyle={styles.pikerPlaceholderStyle}\n            //listItemLabelStyle={styles.pikerTextStyle}\n            dropDownContainerStyle={styles.pikerListStyle}\n            onSelectValue={item => {\n                \n                console.log(item)\n            }}\n            onSelectItem={item => {\n                //選択時の処理（必須）\n                currentBabyDispatch({ \n                    type: \"addBaby\",\n                    babyName: item.value.babyName,\n                    babyBirthday: item.value.birthday.toDate(),\n                    babyId: item.value.id,\n                    //OK\n                })\n                setBabyNameData(item.value.babyName)\n                //setBabyIdData(item.value.id)\n                //setBabyBirthdayData(item.value.birthday.toDate())\n            }}\n            onChangeValue={item => {\n                //現在の値を返す（必須）\n                //console.log(item)\n                \n            }}\n        />\n    );\n}\n\nconst styles = StyleSheet.create({\n    buttonContainer: {\n        backgroundColor: '#FFDB59',\n        borderRadius: 4,\n        alignSelf: 'flex-start',\n        marginBottom:24,\n    },\n    buttonLabel: {\n        fontSize: 16,\n        lineHeight: 32,\n        paddingVertical: 8,\n        paddingHorizontal: 32,\n        color: '#ffffff',\n    },\n    pikerStyle: {\n        width: \"90%\",\n    },\n    pikerListStyle: {\n        width: \"90%\",\n    },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}
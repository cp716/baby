{"ast":null,"code":"import Animated from \"react-native-web/dist/exports/Animated\";\nimport color from 'color';\nimport { MD2DarkTheme } from \"./themes/v2/DarkTheme\";\nexport var isAnimatedValue = function isAnimatedValue(it) {\n  return it instanceof Animated.Value;\n};\nexport default function overlay(elevation) {\n  var _MD2DarkTheme$colors;\n\n  var surfaceColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_MD2DarkTheme$colors = MD2DarkTheme.colors) === null || _MD2DarkTheme$colors === void 0 ? void 0 : _MD2DarkTheme$colors.surface;\n\n  if (isAnimatedValue(elevation)) {\n    var inputRange = [0, 1, 2, 3, 8, 24];\n    return elevation.interpolate({\n      inputRange: inputRange,\n      outputRange: inputRange.map(function (elevation) {\n        return calculateColor(surfaceColor, elevation);\n      })\n    });\n  }\n\n  return calculateColor(surfaceColor, elevation);\n}\n\nfunction calculateColor(surfaceColor) {\n  var elevation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var overlayTransparency;\n\n  if (elevation >= 1 && elevation <= 24) {\n    overlayTransparency = elevationOverlayTransparency[elevation];\n  } else if (elevation > 24) {\n    overlayTransparency = elevationOverlayTransparency[24];\n  } else {\n    overlayTransparency = elevationOverlayTransparency[1];\n  }\n\n  return color(surfaceColor).mix(color('white'), overlayTransparency * 0.01).hex();\n}\n\nvar elevationOverlayTransparency = {\n  1: 5,\n  2: 7,\n  3: 8,\n  4: 9,\n  5: 10,\n  6: 11,\n  7: 11.5,\n  8: 12,\n  9: 12.5,\n  10: 13,\n  11: 13.5,\n  12: 14,\n  13: 14.25,\n  14: 14.5,\n  15: 14.75,\n  16: 15,\n  17: 15.12,\n  18: 15.24,\n  19: 15.36,\n  20: 15.48,\n  21: 15.6,\n  22: 15.72,\n  23: 15.84,\n  24: 16\n};","map":{"version":3,"sources":["overlay.tsx"],"names":["color","MD2DarkTheme","isAnimatedValue","it","Animated","Value","overlay","elevation","surfaceColor","colors","surface","inputRange","interpolate","outputRange","map","calculateColor","overlayTransparency","elevationOverlayTransparency","mix","hex"],"mappings":";AAEA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,YAAT;AAEA,OAAO,IAAMC,eAAe,GAC1BC,SADWD,eACXC,CAAAA,EAAqE;EAAA,OAC5CA,EAAE,YAAYC,QAAQ,CAACC,KADqB;AAAA,CADhE;AAIP,eAAe,SAASC,OAAT,CACbC,SADa,EAGgE;EAAA,IAAA,oBAAA;;EAAA,IAD7EC,YAAoB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,CAAA,oBAAA,GAAGP,YAAY,CAACQ,MAAhB,MAAsB,IAAtB,IAAsB,oBAAA,KAAA,KAAA,CAAtB,GAAsB,KAAA,CAAtB,GAAGR,oBAAAA,CAAqBS,OACiC;;EAC7E,IAAIR,eAAe,CAACK,SAAD,CAAnB,EAAgC;IAC9B,IAAMI,UAAU,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,EAAhB,CAAnB;IAGA,OAAOJ,SAAS,CAACK,WAAVL,CAAsB;MAC3BI,UAAU,EAAVA,UAD2B;MAE3BE,WAAW,EAAEF,UAAU,CAACG,GAAXH,CAAgBJ,UAAAA,SAAS,EAAK;QACzC,OAAOQ,cAAc,CAACP,YAAD,EAAeD,SAAf,CAArB;MACD,CAFYI;IAFc,CAAtBJ,CAAP;EAMF;;EAGA,OAAOQ,cAAc,CAACP,YAAD,EAAeD,SAAf,CAArB;AACF;;AAEA,SAASQ,cAAT,CAAwBP,YAAxB,EAAqE;EAAA,IAAvBD,SAAiB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAG,CAAG;EACnE,IAAIS,mBAAJ;;EACA,IAAIT,SAAS,IAAI,CAAbA,IAAkBA,SAAS,IAAI,EAAnC,EAAuC;IACrCS,mBAAmB,GAAGC,4BAA4B,CAACV,SAAD,CAAlDS;EACD,CAFD,MAEO,IAAIT,SAAS,GAAG,EAAhB,EAAoB;IACzBS,mBAAmB,GAAGC,4BAA4B,CAAC,EAAD,CAAlDD;EACD,CAFM,MAEA;IACLA,mBAAmB,GAAGC,4BAA4B,CAAC,CAAD,CAAlDD;EACF;;EACA,OAAOhB,KAAK,CAACQ,YAAD,CAALR,CACJkB,GADIlB,CACAA,KAAK,CAAC,OAAD,CADLA,EACgBgB,mBAAmB,GAAG,IADtChB,EAEJmB,GAFInB,EAAP;AAGF;;AAEA,IAAMiB,4BAAoD,GAAG;EAC3D,GAAG,CADwD;EAE3D,GAAG,CAFwD;EAG3D,GAAG,CAHwD;EAI3D,GAAG,CAJwD;EAK3D,GAAG,EALwD;EAM3D,GAAG,EANwD;EAO3D,GAAG,IAPwD;EAQ3D,GAAG,EARwD;EAS3D,GAAG,IATwD;EAU3D,IAAI,EAVuD;EAW3D,IAAI,IAXuD;EAY3D,IAAI,EAZuD;EAa3D,IAAI,KAbuD;EAc3D,IAAI,IAduD;EAe3D,IAAI,KAfuD;EAgB3D,IAAI,EAhBuD;EAiB3D,IAAI,KAjBuD;EAkB3D,IAAI,KAlBuD;EAmB3D,IAAI,KAnBuD;EAoB3D,IAAI,KApBuD;EAqB3D,IAAI,IArBuD;EAsB3D,IAAI,KAtBuD;EAuB3D,IAAI,KAvBuD;EAwB3D,IAAI;AAxBuD,CAA7D","sourcesContent":["import { Animated } from 'react-native';\n\nimport color from 'color';\n\nimport { MD2DarkTheme } from './themes/v2/DarkTheme';\n\nexport const isAnimatedValue = (\n  it: number | string | Animated.AnimatedInterpolation<number | string>\n): it is Animated.Value => it instanceof Animated.Value;\n\nexport default function overlay<T extends Animated.Value | number>(\n  elevation: T,\n  surfaceColor: string = MD2DarkTheme.colors?.surface\n): T extends number ? string : Animated.AnimatedInterpolation<number | string> {\n  if (isAnimatedValue(elevation)) {\n    const inputRange = [0, 1, 2, 3, 8, 24];\n\n    // @ts-expect-error: TS doesn't seem to refine the type correctly\n    return elevation.interpolate({\n      inputRange,\n      outputRange: inputRange.map((elevation) => {\n        return calculateColor(surfaceColor, elevation);\n      }),\n    });\n  }\n\n  // @ts-expect-error: TS doesn't seem to refine the type correctly\n  return calculateColor(surfaceColor, elevation);\n}\n\nfunction calculateColor(surfaceColor: string, elevation: number = 1) {\n  let overlayTransparency: number;\n  if (elevation >= 1 && elevation <= 24) {\n    overlayTransparency = elevationOverlayTransparency[elevation];\n  } else if (elevation > 24) {\n    overlayTransparency = elevationOverlayTransparency[24];\n  } else {\n    overlayTransparency = elevationOverlayTransparency[1];\n  }\n  return color(surfaceColor)\n    .mix(color('white'), overlayTransparency * 0.01)\n    .hex();\n}\n\nconst elevationOverlayTransparency: Record<string, number> = {\n  1: 5,\n  2: 7,\n  3: 8,\n  4: 9,\n  5: 10,\n  6: 11,\n  7: 11.5,\n  8: 12,\n  9: 12.5,\n  10: 13,\n  11: 13.5,\n  12: 14,\n  13: 14.25,\n  14: 14.5,\n  15: 14.75,\n  16: 15,\n  17: 15.12,\n  18: 15.24,\n  19: 15.36,\n  20: 15.48,\n  21: 15.6,\n  22: 15.72,\n  23: 15.84,\n  24: 16,\n};\n"]},"metadata":{},"sourceType":"module"}
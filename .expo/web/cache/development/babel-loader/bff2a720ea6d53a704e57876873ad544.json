{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport * as Sharing from 'expo-sharing';\nimport * as FileSystem from 'expo-file-system';\nimport * as SQLite from 'expo-sqlite';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function TestScreen() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      db = _useState6[0],\n      setDb = _useState6[1];\n\n  useEffect(function () {\n    var database = SQLite.openDatabase('DB.db');\n    setDb(database);\n    database.transaction(function (tx) {\n      tx.executeSql('CREATE TABLE IF NOT EXISTS TestTable (id INTEGER PRIMARY KEY AUTOINCREMENT, text TEXT)', [], function () {\n        console.log('テーブルが作成されました');\n      }, function (error) {\n        console.error('テーブルの作成中にエラーが発生しました:', error);\n      });\n    }, function (error) {\n      console.error('データベースのオープン中にエラーが発生しました:', error);\n    });\n  }, []);\n\n  var createTable = function createTable() {};\n\n  var shareDatabase = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var databaseUri = `${FileSystem.documentDirectory}DB.db`;\n        Sharing.shareAsync(databaseUri).then(function () {\n          setMessage('データベースが共有されました');\n        }).catch(function (error) {\n          setMessage('共有中にエラーが発生しました');\n          console.error('共有中にエラーが発生しました:', error);\n        });\n      } catch (error) {\n        setMessage('共有中にエラーが発生しました');\n        console.error('共有中にエラーが発生しました:', error);\n      }\n    });\n\n    return function shareDatabase() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var insertData = function insertData() {\n    db.transaction(function (tx) {\n      tx.executeSql('INSERT INTO TestTable (text) VALUES (?)', [text], function (_, result) {\n        setMessage('データがテーブルに挿入されました');\n      }, function (_, error) {\n        setMessage('データの挿入中にエラーが発生しました');\n        console.error('データの挿入中にエラーが発生しました:', error);\n      });\n    });\n  };\n\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: [db ? _jsx(Text, {\n      children: \"DB\\u304C\\u4F5C\\u6210\\u3055\\u308C\\u307E\\u3057\\u305F\"\n    }) : _jsx(Text, {\n      children: \"\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\\u306E\\u4F5C\\u6210\\u4E2D...\"\n    }), _jsx(Text, {\n      children: message\n    }), _jsx(TextInput, {\n      style: {\n        width: 200,\n        borderColor: 'gray',\n        borderWidth: 1,\n        marginBottom: 10\n      },\n      onChangeText: setText,\n      value: text,\n      placeholder: \"\\u30C6\\u30AD\\u30B9\\u30C8\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n    }), _jsx(Button, {\n      title: \"\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\\u3092\\u5171\\u6709\",\n      onPress: shareDatabase\n    }), _jsx(Button, {\n      title: \"\\u30C6\\u30FC\\u30D6\\u30EB\\u3092\\u4F5C\\u6210\",\n      onPress: createTable\n    }), _jsx(Button, {\n      title: \"\\u30C7\\u30FC\\u30BF\\u3092\\u633F\\u5165\",\n      onPress: insertData\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","Sharing","FileSystem","SQLite","TestScreen","text","setText","message","setMessage","db","setDb","database","openDatabase","transaction","tx","executeSql","console","log","error","createTable","shareDatabase","databaseUri","documentDirectory","shareAsync","then","catch","insertData","_","result","flex","justifyContent","alignItems","width","borderColor","borderWidth","marginBottom"],"sources":["/Users/atsushi/Dev/baby/src/screens/TestScreen.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Button, TextInput, Text } from 'react-native';\nimport * as Sharing from 'expo-sharing';\nimport * as FileSystem from 'expo-file-system';\nimport * as SQLite from 'expo-sqlite';\n\nexport default function TestScreen() {\n  const [text, setText] = useState('');\n  const [message, setMessage] = useState('');\n  const [db, setDb] = useState(null);\n\n  useEffect(() => {\n    // SQLiteデータベースを開くか作成する\n    const database = SQLite.openDatabase('DB.db');\n    setDb(database);\n\n    database.transaction(\n      (tx) => {\n        // テーブルが存在しない場合は作成\n        tx.executeSql(\n          'CREATE TABLE IF NOT EXISTS TestTable (id INTEGER PRIMARY KEY AUTOINCREMENT, text TEXT)',\n          [],\n          () => {\n            console.log('テーブルが作成されました');\n          },\n          (error) => {\n            console.error('テーブルの作成中にエラーが発生しました:', error);\n          }\n        );\n      },\n      (error) => {\n        console.error('データベースのオープン中にエラーが発生しました:', error);\n      }\n    );\n  }, []);\n\n  const createTable = () => {\n    // テーブルを作成する関数は不要なので削除\n  };\n\n  const shareDatabase = async () => {\n    try {\n      // SQLiteデータベースファイルのパスを取得\n      const databaseUri = `${FileSystem.documentDirectory}DB.db`;\n\n      // テキストデータを共有\n      Sharing.shareAsync(databaseUri)\n        .then(() => {\n          setMessage('データベースが共有されました');\n        })\n        .catch((error) => {\n          setMessage('共有中にエラーが発生しました');\n          console.error('共有中にエラーが発生しました:', error);\n        });\n    } catch (error) {\n      setMessage('共有中にエラーが発生しました');\n      console.error('共有中にエラーが発生しました:', error);\n    }\n  };\n\n  const insertData = () => {\n    // テキストをデータベースに挿入\n    db.transaction(\n      (tx) => {\n        tx.executeSql(\n          'INSERT INTO TestTable (text) VALUES (?)',\n          [text],\n          (_, result) => {\n            setMessage('データがテーブルに挿入されました');\n          },\n          (_, error) => {\n            setMessage('データの挿入中にエラーが発生しました');\n            console.error('データの挿入中にエラーが発生しました:', error);\n          }\n        );\n      }\n    );\n  };\n\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      {db ? (\n        <Text>DBが作成されました</Text>\n      ) : (\n        <Text>データベースの作成中...</Text>\n      )}\n      <Text>{message}</Text>\n      <TextInput\n        style={{ width: 200, borderColor: 'gray', borderWidth: 1, marginBottom: 10 }}\n        onChangeText={setText}\n        value={text}\n        placeholder=\"テキストを入力してください\"\n      />\n      <Button title=\"データベースを共有\" onPress={shareDatabase} />\n      <Button title=\"テーブルを作成\" onPress={createTable} />\n      <Button title=\"データを挿入\" onPress={insertData} />\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
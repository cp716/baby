{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useReducer, useContext } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar DateTimeContext = createContext();\nexport function useDateTimeContext() {\n  return useContext(DateTimeContext);\n}\nexport function DateTimeProvider(_ref) {\n  var children = _ref.children;\n  var date = new Date(Math.floor(new Date().getTime() / 1000 / 60 / 5) * 1000 * 60 * 5);\n  var initialState = {\n    year: Number(date.getFullYear()),\n    month: Number(date.getMonth() + 1),\n    day: Number(date.getDate()),\n    hours: Number(date.getHours()),\n    minutes: Number(date.getMinutes()),\n    youbiCount: Number(date.getDay())\n  };\n\n  var reducer = function reducer(state, action) {\n    var startDate = new Date(action.year, action.month - 1, 1);\n    var startDayCount = startDate.getDate();\n    var endDate = new Date(action.year, action.month, 0);\n    var endDayCount = endDate.getDate();\n\n    if (action.type == \"increment\") {\n      if (action.day != null) {\n        state.day = action.day + 1;\n        state.youbiCount = action.youbiCount + 1;\n\n        if (state.day > endDayCount) {\n          state.day = 1;\n\n          if (action.month < 12) {\n            state.month = action.month + 1;\n          } else if (action.month = 12) {\n            state.month = 1;\n            state.year = action.year + 1;\n          }\n        }\n\n        ;\n\n        if (state.youbiCount >= 7) {\n          state.youbiCount = 0;\n        }\n      }\n\n      ;\n      return {\n        year: state.year,\n        month: state.month,\n        day: state.day,\n        hours: state.hours,\n        minutes: state.minutes,\n        youbiCount: state.youbiCount\n      };\n    } else if (action.type == \"decrement\") {\n      if (action.day != null) {\n        state.day = action.day - 1;\n        state.youbiCount = action.youbiCount - 1;\n\n        if (state.day < 1) {\n          endDate = new Date(action.year, action.month - 1, 0);\n          endDayCount = endDate.getDate();\n          state.day = endDayCount;\n\n          if (action.month > 1) {\n            state.month = action.month - 1;\n          } else if (action.month = 1) {\n            state.month = 12;\n            state.year = action.year - 1;\n          }\n        }\n\n        if (state.youbiCount <= -1) {\n          state.youbiCount = 6;\n        }\n      }\n\n      ;\n      return {\n        year: state.year,\n        month: state.month,\n        day: state.day,\n        hours: state.hours,\n        minutes: state.minutes,\n        youbiCount: state.youbiCount\n      };\n    }\n\n    ;\n\n    if (action.type == \"timeUpdate\") {\n      if (action.hours != null && action.minutes != null) {\n        state.hours = action.hours;\n        state.minutes = action.minutes;\n      }\n\n      ;\n      return {\n        year: state.year,\n        month: state.month,\n        day: state.day,\n        hours: state.hours,\n        minutes: state.minutes,\n        youbiCount: state.youbiCount\n      };\n    }\n\n    ;\n\n    if (action.type == \"selectDate\") {\n      if (action.year != null && action.month != null && action.day != null) {\n        state.year = action.year;\n        state.month = action.month;\n        state.day = action.day;\n        state.youbiCount = action.timestamp.getDay();\n      }\n\n      ;\n      return {\n        year: state.year,\n        month: state.month,\n        day: state.day,\n        hours: state.hours,\n        minutes: state.minutes,\n        youbiCount: state.youbiCount\n      };\n    }\n\n    ;\n\n    if (action.type == \"slideMonth\") {\n      state.day = state.day - 1;\n      state.youbiCount = state.youbiCount - 1;\n      endDate = new Date(state.year, state.month - 1, 0);\n      endDayCount = endDate.getDate();\n      state.day = endDayCount;\n\n      if (state.month > 1) {\n        state.month = state.month - 1;\n      } else if (state.month = 1) {\n        state.month = 12;\n        state.year = state.year - 1;\n      }\n\n      if (state.youbiCount <= -1) {\n        state.youbiCount = 6;\n      }\n\n      return {\n        year: state.year,\n        month: state.month,\n        day: state.day,\n        hours: state.hours,\n        minutes: state.minutes,\n        youbiCount: state.youbiCount\n      };\n    }\n\n    if (action.type == \"slideDay\") {\n      state.day = state.day - 1;\n      state.youbiCount = state.youbiCount - 1;\n\n      if (state.youbiCount <= -1) {\n        state.youbiCount = 6;\n      }\n\n      return {\n        year: state.year,\n        month: state.month,\n        day: state.day,\n        hours: state.hours,\n        minutes: state.minutes,\n        youbiCount: state.youbiCount\n      };\n    }\n  };\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      dateTimeState = _useReducer2[0],\n      dateTimeDispatch = _useReducer2[1];\n\n  return _jsx(DateTimeContext.Provider, {\n    value: {\n      dateTimeState: dateTimeState,\n      dateTimeDispatch: dateTimeDispatch\n    },\n    children: children\n  });\n}","map":{"version":3,"names":["React","createContext","useReducer","useContext","DateTimeContext","useDateTimeContext","DateTimeProvider","children","date","Date","Math","floor","getTime","initialState","year","Number","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","youbiCount","getDay","reducer","state","action","startDate","startDayCount","endDate","endDayCount","type","timestamp","dateTimeState","dateTimeDispatch"],"sources":["/Users/atsushi/Dev/baby/src/context/DateTimeContext.jsx"],"sourcesContent":["import React, { createContext, useReducer, useContext }  from 'react';\n\n//＝＝＝＝＝＝＝＝\n// Context\n//＝＝＝＝＝＝＝＝\nconst DateTimeContext = createContext();\n\nexport function useDateTimeContext() {\n  return useContext(DateTimeContext);\n}\n\nexport function DateTimeProvider({ children }) {\n  \n  //＝＝＝＝＝＝＝＝\n  // 初期値設定\n  //＝＝＝＝＝＝＝＝\n  const date = new Date(Math.floor(new Date().getTime()/1000/60/5)*1000*60*5);\n  const initialState = {\n    year: Number(date.getFullYear()),\n    month: Number(date.getMonth() + 1),\n    day: Number(date.getDate()),\n    hours: Number(date.getHours()),\n    minutes: Number(date.getMinutes()),\n    youbiCount: Number(date.getDay()),\n  };\n\n  const reducer = (state, action) => {\n\n    const startDate = new Date(action.year, action.month-1, 1) // 月の最初の日を取得\n    const startDayCount = startDate.getDate() // 月の末日\n    var endDate = new Date(action.year, action.month, 0) // 月の最後の日を取得\n    var endDayCount = endDate.getDate() // 月の末日\n\n    //＝＝＝＝＝＝＝＝\n    // 日付変更処理\n    //＝＝＝＝＝＝＝＝\n    if (action.type == \"increment\") {\n      if (action.day != null) {\n        state.day = action.day + 1;\n        state.youbiCount = action.youbiCount + 1;\n        //末日の場合は翌月の1日に設定する\n        if (state.day > endDayCount) {\n          state.day = 1;\n          if (action.month < 12) {\n            state.month = action.month + 1;\n          } else if (action.month = 12){\n            state.month =  1;\n            state.year = action.year + 1;\n          }\n        };\n        //土曜日の場合は日曜日に設定\n        if (state.youbiCount >= 7) {\n          state.youbiCount = 0;\n        }\n      };\n      //state.date = year + \"-\" + month + \"-\" + day;\n      return { year: state.year, month: state.month, day: state.day, hours: state.hours, minutes: state.minutes, youbiCount: state.youbiCount };\n    } else if (action.type == \"decrement\") {\n      if (action.day != null) {\n        state.day = action.day - 1;\n        state.youbiCount = action.youbiCount - 1;\n        // 前の月の場合は前月の末尾を取得する\n        if (state.day < 1) {\n          endDate = new Date(action.year, action.month-1, 0) // 前月の最後の日を取得\n          endDayCount = endDate.getDate() // 前月の末日\n          state.day = endDayCount;\n          if (action.month > 1) {\n            state.month = action.month - 1;\n          } else if (action.month = 1){\n            state.month = 12;\n            state.year = action.year - 1;\n          }\n        }\n        //日曜日の場合は土曜日に戻る\n        if (state.youbiCount <= -1) {\n          state.youbiCount = 6;\n        }\n      };\n      return { year: state.year, month: state.month, day: state.day, hours: state.hours, minutes: state.minutes, youbiCount: state.youbiCount };\n    };\n\n    //＝＝＝＝＝＝＝＝\n    // 時間変更処理\n    //＝＝＝＝＝＝＝＝\n    if (action.type == \"timeUpdate\") {\n      if (action.hours != null && action.minutes != null ) {\n        state.hours = action.hours;\n        state.minutes = action.minutes;\n      };\n      return { year: state.year, month: state.month, day: state.day, hours: state.hours, minutes: state.minutes, youbiCount: state.youbiCount };\n    };\n\n    //＝＝＝＝＝＝＝＝\n    // カレンダー日付変更処理\n    //＝＝＝＝＝＝＝＝\n    if (action.type == \"selectDate\") {\n      if (action.year != null && action.month != null && action.day != null ) {\n        state.year = action.year;\n        state.month = action.month;\n        state.day = action.day;\n        state.youbiCount = action.timestamp.getDay()\n      };\n      return { year: state.year, month: state.month, day: state.day, hours: state.hours, minutes: state.minutes, youbiCount: state.youbiCount };\n    };\n\n    //＝＝＝＝＝＝＝＝\n    // スワイパー日付変更処理\n    //＝＝＝＝＝＝＝＝\n    if (action.type == \"slideMonth\") {\n      state.day = state.day - 1;\n      state.youbiCount = state.youbiCount - 1;\n      // 前の月の場合は前月の末尾を取得する\n      endDate = new Date(state.year, state.month-1, 0) // 前月の最後の日を取得\n      endDayCount = endDate.getDate() // 前月の末日\n      state.day = endDayCount;\n      if (state.month > 1) {\n        state.month = state.month - 1;\n      } else if (state.month = 1){\n        state.month = 12;\n        state.year = state.year - 1;\n      }\n      //日曜日の場合は土曜日に戻る\n      if (state.youbiCount <= -1) {\n        state.youbiCount = 6;\n      }\n      return { year: state.year, month: state.month, day: state.day, hours: state.hours, minutes: state.minutes, youbiCount: state.youbiCount };\n    }\n    if (action.type == \"slideDay\") {\n      state.day = state.day - 1;\n      state.youbiCount = state.youbiCount - 1;\n      //日曜日の場合は土曜日に戻る\n      if (state.youbiCount <= -1) {\n        state.youbiCount = 6;\n      }\n      return { year: state.year, month: state.month, day: state.day, hours: state.hours, minutes: state.minutes, youbiCount: state.youbiCount };\n    }\n  };\n  \n  const [dateTimeState, dateTimeDispatch] = useReducer(reducer, initialState);\n  \n  return (\n    <DateTimeContext.Provider value={{dateTimeState, dateTimeDispatch}}>\n      {children}\n    </DateTimeContext.Provider>\n  );\n  \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"style\", \"theme\"],\n    _excluded2 = [\"elevation\", \"children\", \"theme\", \"style\", \"testID\"],\n    _excluded3 = [\"position\", \"alignSelf\", \"top\", \"left\", \"right\", \"bottom\", \"start\", \"end\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nimport * as React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useInternalTheme } from \"../core/theming\";\nimport overlay, { isAnimatedValue } from \"../styles/overlay\";\nimport shadow from \"../styles/shadow\";\nvar MD2Surface = React.forwardRef(function (_ref, ref) {\n  var style = _ref.style,\n      overrideTheme = _ref.theme,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var _ref3 = StyleSheet.flatten(style) || {},\n      _ref3$elevation = _ref3.elevation,\n      elevation = _ref3$elevation === void 0 ? 4 : _ref3$elevation;\n\n  var _useInternalTheme = useInternalTheme(overrideTheme),\n      isDarkTheme = _useInternalTheme.dark,\n      mode = _useInternalTheme.mode,\n      colors = _useInternalTheme.colors;\n\n  return React.createElement(Animated.View, _extends({\n    ref: ref\n  }, rest, {\n    style: [{\n      backgroundColor: isDarkTheme && mode === 'adaptive' ? overlay(elevation, colors === null || colors === void 0 ? void 0 : colors.surface) : colors === null || colors === void 0 ? void 0 : colors.surface\n    }, elevation ? shadow(elevation) : null, style]\n  }));\n});\nvar Surface = React.forwardRef(function (_ref2, ref) {\n  var _ref2$elevation = _ref2.elevation,\n      elevation = _ref2$elevation === void 0 ? 1 : _ref2$elevation,\n      children = _ref2.children,\n      overridenTheme = _ref2.theme,\n      style = _ref2.style,\n      testID = _ref2.testID,\n      props = _objectWithoutProperties(_ref2, _excluded2);\n\n  var theme = useInternalTheme(overridenTheme);\n  if (!theme.isV3) return React.createElement(MD2Surface, _extends({}, props, {\n    theme: theme,\n    style: style,\n    ref: ref\n  }), children);\n  var colors = theme.colors;\n  var inputRange = [0, 1, 2, 3, 4, 5];\n\n  var backgroundColor = function () {\n    var _colors$elevation2;\n\n    if (isAnimatedValue(elevation)) {\n      return elevation.interpolate({\n        inputRange: inputRange,\n        outputRange: inputRange.map(function (elevation) {\n          var _colors$elevation;\n\n          return (_colors$elevation = colors.elevation) === null || _colors$elevation === void 0 ? void 0 : _colors$elevation[\"level\" + elevation];\n        })\n      });\n    }\n\n    return (_colors$elevation2 = colors.elevation) === null || _colors$elevation2 === void 0 ? void 0 : _colors$elevation2[\"level\" + elevation];\n  }();\n\n  if (Platform.OS === 'web') {\n    return React.createElement(Animated.View, _extends({}, props, {\n      ref: ref,\n      testID: testID,\n      style: [{\n        backgroundColor: backgroundColor\n      }, elevation ? shadow(elevation, theme.isV3) : null, style]\n    }), children);\n  }\n\n  if (Platform.OS === 'android') {\n    var elevationLevel = [0, 3, 6, 9, 12, 15];\n\n    var getElevationAndroid = function getElevationAndroid() {\n      if (isAnimatedValue(elevation)) {\n        return elevation.interpolate({\n          inputRange: inputRange,\n          outputRange: elevationLevel\n        });\n      }\n\n      return elevationLevel[elevation];\n    };\n\n    var _ref4 = StyleSheet.flatten(style) || {},\n        margin = _ref4.margin,\n        padding = _ref4.padding,\n        transform = _ref4.transform,\n        borderRadius = _ref4.borderRadius;\n\n    var outerLayerStyles = {\n      margin: margin,\n      padding: padding,\n      transform: transform,\n      borderRadius: borderRadius\n    };\n    var _sharedStyle = [{\n      backgroundColor: backgroundColor\n    }, style];\n    return React.createElement(Animated.View, _extends({}, props, {\n      testID: testID,\n      ref: ref,\n      style: [{\n        backgroundColor: backgroundColor,\n        transform: transform\n      }, outerLayerStyles, _sharedStyle, {\n        elevation: getElevationAndroid()\n      }]\n    }), children);\n  }\n\n  var iOSShadowOutputRanges = [{\n    shadowOpacity: 0.15,\n    height: [0, 1, 2, 4, 6, 8],\n    shadowRadius: [0, 3, 6, 8, 10, 12]\n  }, {\n    shadowOpacity: 0.3,\n    height: [0, 1, 1, 1, 2, 4],\n    shadowRadius: [0, 1, 2, 3, 3, 4]\n  }];\n  var shadowColor = '#000';\n\n  var _ref5 = StyleSheet.flatten(style) || {},\n      position = _ref5.position,\n      alignSelf = _ref5.alignSelf,\n      top = _ref5.top,\n      left = _ref5.left,\n      right = _ref5.right,\n      bottom = _ref5.bottom,\n      start = _ref5.start,\n      end = _ref5.end,\n      restStyle = _objectWithoutProperties(_ref5, _excluded3);\n\n  var absoluteStyles = {\n    position: position,\n    alignSelf: alignSelf,\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    start: start,\n    end: end\n  };\n  var sharedStyle = [{\n    backgroundColor: backgroundColor\n  }, restStyle];\n\n  if (isAnimatedValue(elevation)) {\n    var _inputRange = [0, 1, 2, 3, 4, 5];\n\n    var getStyleForAnimatedShadowLayer = function getStyleForAnimatedShadowLayer(layer) {\n      return {\n        shadowColor: shadowColor,\n        shadowOpacity: elevation.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, iOSShadowOutputRanges[layer].shadowOpacity],\n          extrapolate: 'clamp'\n        }),\n        shadowOffset: {\n          width: 0,\n          height: elevation.interpolate({\n            inputRange: _inputRange,\n            outputRange: iOSShadowOutputRanges[layer].height\n          })\n        },\n        shadowRadius: elevation.interpolate({\n          inputRange: _inputRange,\n          outputRange: iOSShadowOutputRanges[layer].shadowRadius\n        })\n      };\n    };\n\n    return React.createElement(Animated.View, {\n      style: [getStyleForAnimatedShadowLayer(0), absoluteStyles]\n    }, React.createElement(Animated.View, {\n      style: getStyleForAnimatedShadowLayer(1)\n    }, React.createElement(Animated.View, _extends({}, props, {\n      testID: testID,\n      style: sharedStyle\n    }), children)));\n  }\n\n  var getStyleForShadowLayer = function getStyleForShadowLayer(layer) {\n    return {\n      shadowColor: shadowColor,\n      shadowOpacity: elevation ? iOSShadowOutputRanges[layer].shadowOpacity : 0,\n      shadowOffset: {\n        width: 0,\n        height: iOSShadowOutputRanges[layer].height[elevation]\n      },\n      shadowRadius: iOSShadowOutputRanges[layer].shadowRadius[elevation]\n    };\n  };\n\n  return React.createElement(Animated.View, {\n    ref: ref,\n    style: [getStyleForShadowLayer(0), absoluteStyles]\n  }, React.createElement(Animated.View, {\n    style: getStyleForShadowLayer(1)\n  }, React.createElement(Animated.View, _extends({}, props, {\n    testID: testID,\n    style: sharedStyle\n  }), children)));\n});\nexport default Surface;","map":{"version":3,"sources":["Surface.tsx"],"names":["React","useInternalTheme","overlay","isAnimatedValue","shadow","MD2Surface","forwardRef","style","theme","overrideTheme","rest","ref","elevation","StyleSheet","flatten","dark","isDarkTheme","mode","colors","backgroundColor","surface","Surface","children","overridenTheme","testID","props","isV3","inputRange","interpolate","outputRange","map","Platform","OS","elevationLevel","getElevationAndroid","margin","padding","transform","borderRadius","outerLayerStyles","sharedStyle","iOSShadowOutputRanges","shadowOpacity","height","shadowRadius","shadowColor","position","alignSelf","top","left","right","bottom","start","end","restStyle","absoluteStyles","getStyleForAnimatedShadowLayer","layer","extrapolate","shadowOffset","width","getStyleForShadowLayer"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  Animated,\n  Platform,\n  StyleProp,\n  StyleSheet,\n  View,\n  ViewStyle,\n} from 'react-native';\n\nimport { useInternalTheme } from '../core/theming';\nimport overlay, { isAnimatedValue } from '../styles/overlay';\nimport shadow from '../styles/shadow';\nimport type { InternalTheme, MD3Elevation } from '../types';\n\nexport type Props = React.ComponentPropsWithRef<typeof View> & {\n  /**\n   * Content of the `Surface`.\n   */\n  children: React.ReactNode;\n  style?: Animated.WithAnimatedValue<StyleProp<ViewStyle>>;\n  /**\n   * @supported Available in v5.x with theme version 3\n   * Changes shadows and background on iOS and Android.\n   * Used to create UI hierarchy between components.\n   *\n   * Note: In version 2 the `elevation` prop was accepted via `style` prop i.e. `style={{ elevation: 4 }}`.\n   * It's no longer supported with theme version 3 and you should use `elevation` property instead.\n   */\n  elevation?: 0 | 1 | 2 | 3 | 4 | 5 | Animated.Value;\n  /**\n   * @optional\n   */\n  theme?: InternalTheme;\n  /**\n   * TestID used for testing purposes\n   */\n  testID?: string;\n  ref?: React.RefObject<View>;\n};\n\nconst MD2Surface = React.forwardRef<View, Props>(\n  ({ style, theme: overrideTheme, ...rest }: Omit<Props, 'elevation'>, ref) => {\n    const { elevation = 4 } = (StyleSheet.flatten(style) || {}) as ViewStyle;\n    const { dark: isDarkTheme, mode, colors } = useInternalTheme(overrideTheme);\n\n    return (\n      <Animated.View\n        ref={ref}\n        {...rest}\n        style={[\n          {\n            backgroundColor:\n              isDarkTheme && mode === 'adaptive'\n                ? overlay(elevation, colors?.surface)\n                : colors?.surface,\n          },\n          elevation ? shadow(elevation) : null,\n          style,\n        ]}\n      />\n    );\n  }\n);\n\n/**\n * Surface is a basic container that can give depth to an element with elevation shadow.\n * On dark theme with `adaptive` mode, surface is constructed by also placing a semi-transparent white overlay over a component surface.\n * See [Dark InternalTheme](https://callstack.github.io/react-native-paper/theming.html#dark-theme) for more information.\n * Overlay and shadow can be applied by specifying the `elevation` property both on Android and iOS.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img class=\"medium\" src=\"screenshots/surface-android.png\" />\n *     <figcaption>Surface on Android</figcaption>\n *   </figure>\n *   <figure>\n *     <img class=\"medium\" src=\"screenshots/surface-ios.png\" />\n *     <figcaption>Surface on iOS</figcaption>\n *   </figure>\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { Surface, Text } from 'react-native-paper';\n * import { StyleSheet } from 'react-native';\n *\n * const MyComponent = () => (\n *   <Surface style={styles.surface} elevation={4}>\n *      <Text>Surface</Text>\n *   </Surface>\n * );\n *\n * export default MyComponent;\n *\n * const styles = StyleSheet.create({\n *   surface: {\n *     padding: 8,\n *     height: 80,\n *     width: 80,\n *     alignItems: 'center',\n *     justifyContent: 'center',\n *   },\n * });\n * ```\n */\nconst Surface = React.forwardRef<View, Props>(\n  (\n    {\n      elevation = 1,\n      children,\n      theme: overridenTheme,\n      style,\n      testID,\n      ...props\n    }: Props,\n    ref\n  ) => {\n    const theme = useInternalTheme(overridenTheme);\n\n    if (!theme.isV3)\n      return (\n        <MD2Surface {...props} theme={theme} style={style} ref={ref}>\n          {children}\n        </MD2Surface>\n      );\n\n    const { colors } = theme;\n\n    const inputRange = [0, 1, 2, 3, 4, 5];\n\n    const backgroundColor = (() => {\n      if (isAnimatedValue(elevation)) {\n        return elevation.interpolate({\n          inputRange,\n          outputRange: inputRange.map((elevation) => {\n            return colors.elevation?.[`level${elevation as MD3Elevation}`];\n          }),\n        });\n      }\n\n      return colors.elevation?.[`level${elevation}`];\n    })();\n\n    if (Platform.OS === 'web') {\n      return (\n        <Animated.View\n          {...props}\n          ref={ref}\n          testID={testID}\n          style={[\n            { backgroundColor },\n            elevation ? shadow(elevation, theme.isV3) : null,\n            style,\n          ]}\n        >\n          {children}\n        </Animated.View>\n      );\n    }\n\n    if (Platform.OS === 'android') {\n      const elevationLevel = [0, 3, 6, 9, 12, 15];\n\n      const getElevationAndroid = () => {\n        if (isAnimatedValue(elevation)) {\n          return elevation.interpolate({\n            inputRange,\n            outputRange: elevationLevel,\n          });\n        }\n\n        return elevationLevel[elevation];\n      };\n\n      const { margin, padding, transform, borderRadius } = (StyleSheet.flatten(\n        style\n      ) || {}) as ViewStyle;\n\n      const outerLayerStyles = { margin, padding, transform, borderRadius };\n      const sharedStyle = [{ backgroundColor }, style];\n\n      return (\n        <Animated.View\n          {...props}\n          testID={testID}\n          ref={ref}\n          style={[\n            {\n              backgroundColor,\n              transform,\n            },\n            outerLayerStyles,\n            sharedStyle,\n            {\n              elevation: getElevationAndroid(),\n            },\n          ]}\n        >\n          {children}\n        </Animated.View>\n      );\n    }\n\n    const iOSShadowOutputRanges = [\n      {\n        shadowOpacity: 0.15,\n        height: [0, 1, 2, 4, 6, 8],\n        shadowRadius: [0, 3, 6, 8, 10, 12],\n      },\n      {\n        shadowOpacity: 0.3,\n        height: [0, 1, 1, 1, 2, 4],\n        shadowRadius: [0, 1, 2, 3, 3, 4],\n      },\n    ];\n\n    const shadowColor = '#000';\n\n    const { position, alignSelf, top, left, right, bottom, start, end, ...restStyle } =\n      (StyleSheet.flatten(style) || {}) as ViewStyle;\n\n    const absoluteStyles = { position, alignSelf, top, right, bottom, left, start, end };\n    const sharedStyle = [{ backgroundColor }, restStyle];\n\n    if (isAnimatedValue(elevation)) {\n      const inputRange = [0, 1, 2, 3, 4, 5];\n\n      const getStyleForAnimatedShadowLayer = (layer: 0 | 1) => {\n        return {\n          shadowColor,\n          shadowOpacity: elevation.interpolate({\n            inputRange: [0, 1],\n            outputRange: [0, iOSShadowOutputRanges[layer].shadowOpacity],\n            extrapolate: 'clamp',\n          }),\n          shadowOffset: {\n            width: 0,\n            height: elevation.interpolate({\n              inputRange,\n              outputRange: iOSShadowOutputRanges[layer].height,\n            }),\n          },\n          shadowRadius: elevation.interpolate({\n            inputRange,\n            outputRange: iOSShadowOutputRanges[layer].shadowRadius,\n          }),\n        };\n      };\n\n      return (\n        <Animated.View\n          style={[getStyleForAnimatedShadowLayer(0), absoluteStyles]}\n        >\n          <Animated.View style={getStyleForAnimatedShadowLayer(1)}>\n            <Animated.View {...props} testID={testID} style={sharedStyle}>\n              {children}\n            </Animated.View>\n          </Animated.View>\n        </Animated.View>\n      );\n    }\n\n    const getStyleForShadowLayer = (layer: 0 | 1) => {\n      return {\n        shadowColor,\n        shadowOpacity: elevation\n          ? iOSShadowOutputRanges[layer].shadowOpacity\n          : 0,\n        shadowOffset: {\n          width: 0,\n          height: iOSShadowOutputRanges[layer].height[elevation],\n        },\n        shadowRadius: iOSShadowOutputRanges[layer].shadowRadius[elevation],\n      };\n    };\n\n    return (\n      <Animated.View\n        ref={ref}\n        style={[getStyleForShadowLayer(0), absoluteStyles]}\n      >\n        <Animated.View style={getStyleForShadowLayer(1)}>\n          <Animated.View {...props} testID={testID} style={sharedStyle}>\n            {children}\n          </Animated.View>\n        </Animated.View>\n      </Animated.View>\n    );\n  }\n);\n\nexport default Surface;\n"]},"metadata":{},"sourceType":"module"}
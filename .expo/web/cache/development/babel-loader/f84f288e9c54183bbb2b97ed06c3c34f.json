{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport firebase from 'firebase';\nimport Button from \"../components/Button\";\nimport Loading from \"../components/Loading\";\nimport { translateErrors } from \"../utils\";\nimport { useUserContext } from \"../context/UserContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LogInScreen(props) {\n  var navigation = props.navigation;\n\n  var _useUserContext = useUserContext(),\n      user = _useUserContext.user;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setLoading = _useState6[1];\n\n  function handlePress() {\n    var deleteUser = user;\n    setLoading(true);\n    firebase.auth().signInWithEmailAndPassword(email, password).then(function (userCredentail) {\n      var user = userCredentail.user;\n      console.log(user.uid);\n      navigation.reset({\n        index: 0,\n        routes: [{\n          name: 'Setting'\n        }]\n      });\n      deleteUser.delete();\n    }).catch(function (error) {\n      var errorMsg = translateErrors(error.code);\n      Alert.alert(errorMsg.title, errorMsg.description);\n    }).then(function () {\n      setLoading(false);\n    });\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Loading, {\n      isLoading: isLoading\n    }), _jsx(Text, {\n      style: styles.title,\n      children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n    }), _jsxs(View, {\n      style: styles.inputArea,\n      children: [_jsx(Text, {\n        style: styles.inputText,\n        children: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        value: email,\n        onChangeText: function onChangeText(text) {\n          setEmail(text);\n        },\n        autoCapitalize: \"none\",\n        keyboardType: \"email-address\",\n        placeholder: \"\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\",\n        placeholderTextColor: \"#BFBFBF\",\n        textContentType: \"emailAddress\"\n      }), _jsx(Text, {\n        style: styles.inputText,\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        value: password,\n        onChangeText: function onChangeText(text) {\n          setPassword(text);\n        },\n        autoCapitalize: \"none\",\n        placeholder: \"\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\",\n        placeholderTextColor: \"#BFBFBF\",\n        secureTextEntry: true,\n        textContentType: \"password\"\n      })]\n    }), _jsx(Button, {\n      label: \"\\u30ED\\u30B0\\u30A4\\u30F3\",\n      onPress: handlePress\n    }), _jsx(View, {\n      style: styles.footer,\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.reset({\n            index: 0,\n            routes: [{\n              name: 'SignUp'\n            }]\n          });\n        },\n        children: _jsx(Text, {\n          style: styles.footerLink,\n          children: \"\\u4F1A\\u54E1\\u767B\\u9332\\u306F\\u3053\\u3061\\u3089\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 30,\n    textAlign: 'center',\n    color: '#333'\n  },\n  inputArea: {\n    width: '100%',\n    backgroundColor: '#456845',\n    padding: 20\n  },\n  inputText: {\n    fontSize: 15,\n    lineHeight: 32,\n    marginBottom: 1,\n    color: '#737373',\n    textAlign: 'left'\n  },\n  input: {\n    fontSize: 16,\n    height: 48,\n    width: '90%',\n    borderColor: '#DDDDDD',\n    borderWidth: 1,\n    backgroundColor: '#ffffff',\n    paddingHorizontal: 8,\n    marginBottom: 20\n  },\n  footerLink: {\n    fontSize: 16,\n    lineHeight: 24,\n    color: '#467FD3'\n  },\n  footer: {\n    marginTop: 50,\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    flexDirection: 'row'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","firebase","Button","Loading","translateErrors","useUserContext","LogInScreen","props","navigation","user","email","setEmail","password","setPassword","isLoading","setLoading","handlePress","deleteUser","auth","signInWithEmailAndPassword","then","userCredentail","console","log","uid","reset","index","routes","name","delete","catch","error","errorMsg","code","Alert","alert","title","description","styles","container","inputArea","inputText","input","text","footer","footerLink","StyleSheet","create","flex","alignItems","padding","fontSize","fontWeight","marginTop","marginBottom","textAlign","color","width","backgroundColor","lineHeight","height","borderColor","borderWidth","paddingHorizontal","marginRight","marginLeft","flexDirection"],"sources":["/Users/atsushi/Dev/baby/src/screens/LogInScreen.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, StyleSheet, TouchableOpacity, Alert, } from 'react-native';\nimport firebase from 'firebase';\n\nimport Button from '../components/Button';\nimport Loading from '../components/Loading';\nimport { translateErrors } from '../utils';\nimport { useUserContext } from '../context/UserContext';\n\nexport default function LogInScreen(props) {\n    const { navigation } = props;\n    const { user } = useUserContext();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    //const [isLoading, setLoading] = useState(true);\n    const [isLoading, setLoading] = useState(false);\n\n    function handlePress() {\n        const deleteUser = user;\n        setLoading(true);\n        firebase.auth().signInWithEmailAndPassword(email, password)\n        .then((userCredentail) => {\n            const { user } = userCredentail;\n            console.log(user.uid);\n            navigation.reset({\n                index: 0,\n                routes: [{ name: 'Setting'}],\n            });\n            deleteUser.delete();\n        })\n        .catch((error) => {\n            const errorMsg = translateErrors(error.code);\n            Alert.alert(errorMsg.title, errorMsg.description);\n        })\n        .then(() => {\n            setLoading(false);\n        });   \n    }\n\n    return (\n        <View style={styles.container}>\n            <Loading isLoading={isLoading} />\n            <Text style={styles.title}>ログイン</Text>\n            <View style={styles.inputArea}>\n                <Text style={styles.inputText}>メールアドレス</Text>\n                <TextInput\n                    style={styles.input}\n                    value={email}\n                    onChangeText={(text) => { setEmail(text); }}\n                    autoCapitalize=\"none\"\n                    keyboardType=\"email-address\"\n                    placeholder=\"入力してください\"\n                    placeholderTextColor=\"#BFBFBF\"\n                    textContentType=\"emailAddress\"\n                />\n                <Text style={styles.inputText}>パスワード</Text>\n                <TextInput\n                    style={styles.input}\n                    value={password}\n                    onChangeText={(text) => { setPassword(text); }}\n                    autoCapitalize=\"none\"\n                    placeholder=\"入力してください\"\n                    placeholderTextColor=\"#BFBFBF\"\n                    secureTextEntry\n                    textContentType=\"password\"\n                />\n            </View>\n            <Button\n                label=\"ログイン\"\n                onPress={handlePress}\n            />\n            <View style={styles.footer}>\n                <TouchableOpacity onPress={() => { navigation.reset({\n                    index: 0,\n                    routes: [{ name: 'SignUp'}],\n                }); }}>\n                    <Text style={styles.footerLink}>会員登録はこちら</Text>\n                </TouchableOpacity>\n            </View>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        padding: 20,\n    },\n    title: {\n        fontSize: 24,\n        fontWeight: 'bold',\n        marginTop: 10,\n        marginBottom: 30,\n        textAlign: 'center',\n        color: '#333',\n    },\n    inputArea: {\n        width: '100%',\n        backgroundColor: '#456845',\n        padding: 20,\n    },\n    inputText: {\n        fontSize: 15,\n        lineHeight: 32,\n        //fontWeight: 'bold',\n        marginBottom: 1,\n        color: '#737373',\n        textAlign: 'left',\n    },\n    input: {\n        fontSize: 16,\n        height: 48,\n        width: '90%',\n        borderColor: '#DDDDDD',\n        borderWidth: 1,\n        backgroundColor: '#ffffff',\n        paddingHorizontal: 8,\n        marginBottom: 20,\n    },\n    footerLink: {\n        fontSize: 16,\n        lineHeight: 24,\n        color: '#467FD3',\n    },\n    footer: {\n        marginTop: 50,\n        marginRight: 'auto',\n        marginLeft: 'auto',\n        flexDirection: 'row'\n    },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}